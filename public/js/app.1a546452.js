(function(t){function e(e){for(var r,n,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&p.push(a[n][0]),a[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],r=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(r=!1)}r&&(i.splice(e--,1),t=n(n.s=s[0]))}return t}var r={},a={app:0},i=[];function n(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=r,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(s,r,function(e){return t[e]}.bind(null,r));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},1:function(t,e){},"3c61":function(t,e,s){},4678:function(t,e,s){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=i(t);return s(e)}function i(t){if(!s.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=i,t.exports=a,a.id="4678"},4779:function(t,e,s){t.exports=s.p+"img/3-pepole.ae16967b.svg"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("main",{class:["main-container flex",t.darkMode]},[t.isNavShowen?s("nav-menu",{on:{logout:t.logout}}):t._e(),s("router-view",{class:["grow",t.darkMode]})],1)])},i=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"nav-menu relative"},[s("div",{staticClass:"top-nav"},[s("div",{staticClass:"nav-logo"},[t.boards&&t.boards.length?s("router-link",{staticClass:"nav-link flex justify-center",attrs:{to:"/board/"+t.defaultBoardId}},[s("img",{attrs:{src:"img/icons/logo_icon.png",alt:"TaskU"}})]):t._e()],1),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:"Notfications",expression:"'Notfications'",modifiers:{right:!0}}],staticClass:"nav-icon-container notifs"},[s("i",{staticClass:"nav-icon far fa-bell",on:{click:t.toggleNotifsModal}}),t.user.notifications&&t.numOfNotifs?s("span",{staticClass:"notif-amount"},[t._v(t._s(t.numOfNotifs))]):t._e(),t.isNotifsModalShown?s("notifications-modal"):t._e()],1),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:"Inbox",expression:"'Inbox'",modifiers:{right:!0}}],staticClass:"nav-icon-container inbox"},[s("i",{staticClass:"nav-icon far fa-inbox-in"})])]),t.user?s("div",{staticClass:"user-greeting"},[s("span",{staticClass:"inner-text"},[t._v("Hello "+t._s(t.userFullName))])]):t._e(),s("div",{staticClass:"bottom-nav"},[s("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:"Calendar",expression:"'Calendar'",modifiers:{right:!0}}],staticClass:"nav-icon-container"},[s("router-link",{attrs:{to:"/calendar"}},[s("i",{staticClass:"nav-icon fal fa-calendar-check"})])],1),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:"Logout",expression:"'Logout'",modifiers:{right:!0}}],staticClass:"nav-icon-container"},[s("i",{staticClass:"nav-icon logout fad fa-sign-out",on:{click:t.onLogout}})]),t.user?s("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:"Profile",expression:"'Profile'",modifiers:{right:!0}}],staticClass:"user-profile",on:{click:t.toggleUserModal}},[s("avatar",{staticClass:"user-img-nav",attrs:{user:t.user}}),t.isUserModalShown?s("popup-menu",{staticClass:"user-menu",attrs:{menuItems:t.popupOptions}}):t._e()],1):t._e()]),t.isUserModalShown||t.isNotifsModalShown?s("div",{staticClass:"back-drop-layer",on:{click:function(e){return e.stopPropagation(),t.closePopUps(e)}}}):t._e()])},o=[],c=(s("c975"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{class:{"notifications-modal":!0,expanded:t.isExpanded}},[s("header",{staticClass:"header-notifs"},[s("h3",{staticClass:"notifs-title"},[t._v("Notifications")]),s("notifs-filters",{attrs:{setFilter:t.setFilter}})],1),t.notifsToShow.length?s("ul",{staticClass:"notifs-list flex column"},t._l(t.notifsToShow,(function(e){return s("notif-preview",{key:e.id,attrs:{notif:e,user:t.user,board:t.board},on:{updateNotif:t.updateNotif,deleteNotif:t.deleteNotif}})})),1):t._e()])}),u=[],l=(s("4de4"),s("c740"),s("a434"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"notifs-filters flex space-between"},[s("div",{staticClass:"tab-label all"},[s("button",{staticClass:"filter-notif-btn ",on:{click:function(e){return t.setFilter("all")}}},[t._v("All")]),s("span",{staticClass:"underline-active "})]),s("div",{staticClass:"tab-label unread"},[s("button",{staticClass:"filter-notif-btn unread",on:{click:function(e){return t.setFilter("unread")}}},[t._v(" Unread ")]),s("span",{staticClass:"underline-active"})]),s("div",{staticClass:"tab-label mentions"},[s("button",{staticClass:"filter-notif-btn ",on:{click:function(e){return t.setFilter("mentions")}}},[t._v(" Mentions ")]),s("span",{staticClass:"underline-active"})]),s("div",{staticClass:"tab-label assigned"},[s("button",{staticClass:"filter-notif-btn ",on:{click:function(e){return t.setFilter("assigned")}}},[t._v(" Assigned ")]),s("span",{staticClass:"underline-active"})])])}),d=[],p={props:{setFilter:Function}},f=p,m=s("2877"),h=Object(m["a"])(f,l,d,!1,null,null,null),g=h.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"notif-preview flex align center space-between",on:{mouseover:t.showBtns,mouseleave:t.hideBtns}},[s("div",{staticClass:"notif-container flex align-center"},[s("avatar",{staticClass:"user-img",attrs:{user:t.notif.byUser,size:50}}),s("div",{staticClass:"notif-details flex column"},[s("span",{staticClass:"user-mail"},[t._v(t._s(t.notif.byUser.mail))]),s("span",{staticClass:"notif-txt"},[t._v(t._s(t.notif.txt))]),s("div",{staticClass:"notif-footer flex align-center"},[s("small",{staticClass:"notif-date"},[t._v(t._s(t.dateForDisplay)+" ")]),s("span",{staticClass:"point"}),s("small",{staticClass:"notif-board-name"},[t._v(t._s(t.board.name))])])])],1),t.isHovering?s("div",{staticClass:"notif-btns flex column space-between align-center"},[s("button",{staticClass:"notif-btn",on:{click:t.deleteNotif}},[s("i",{staticClass:"far fa-trash-alt"})]),s("button",{staticClass:"notif-btn",on:{click:t.toggleIsRead}},[s("i",{class:t.isRead})])]):t._e(),s("div",{staticClass:"btns-mobile"},[s("button",{staticClass:"notif-btn",on:{click:t.deleteNotif}},[s("i",{staticClass:"far fa-trash-alt"})]),s("button",{staticClass:"notif-btn",on:{click:t.toggleIsRead}},[s("i",{class:t.isRead})])])])},b=[],y=s("c1df"),k=s.n(y),C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"user-avatar"},[t.user.imgUrl?s("img",{class:["ratio-square-profile img-avatar ",t.className],attrs:{src:t.user.imgUrl}}):[s("avatar",{staticClass:"profile-img",attrs:{backgroundColor:"#0085ff",size:t.size,username:t.user.fullName||t.user.mail}})]],2)},x=[],w=(s("a9e3"),s("4a89")),_=s.n(w),B={props:{user:Object,size:{type:Number,default:35},className:{type:String,default:""}},components:{Avatar:_.a}},$=B,S=Object(m["a"])($,C,x,!1,null,null,null),T=S.exports,j={props:{notif:Object,user:Object,board:Object},components:{Avatar:T},data:function(){return{notifCopy:null,isHovering:!1}},computed:{dateForDisplay:function(){return k()(this.notif.createdAt).fromNow()},isRead:function(){return this.notif.isRead?"fas fa-check-circle":"far fa-circle"}},methods:{showBtns:function(){this.isHovering=!0},hideBtns:function(){this.isHovering=!1},deleteNotif:function(){this.$emit("deleteNotif",this.notifCopy)},toggleIsRead:function(){this.notifCopy.isRead=!this.notifCopy.isRead,this.$emit("updateNotif",this.notifCopy)}},created:function(){this.notifCopy=this.notif}},A=j,E=Object(m["a"])(A,v,b,!1,null,null,null),N=E.exports,I={components:{notifsFilters:g,notifPreview:N},props:{isExpanded:Boolean},data:function(){return{filterBy:null,notifsCopy:null}},computed:{board:function(){return this.$store.getters.board},notifsToShow:function(){var t=this.$store.getters.user.notifications;switch(this.filterBy){case"unread":t=t.filter((function(t){return!1===t.isRead}));break;case"assigned":t=t.filter((function(t){return"assigned"===t.type}));break;case"mentions":t=[];break}return t},user:function(){return this.$store.getters.user}},methods:{updateNotif:function(t){var e=this.notifsCopy.findIndex((function(e){return e.id===t.id}));this.notifsCopy.splice(e,1,t)},deleteNotif:function(t){var e=this.notifsCopy.findIndex((function(e){return e.id===t.id}));this.notifsCopy.splice(e,1),this.updateNotifs()},setFilter:function(t){this.filterBy=t,this.updateNotifs()},updateNotifs:function(){this.user.notifications=this.notifsCopy,this.$store.dispatch({type:"updateUser",user:this.user})}},destroyed:function(){this.updateNotifs()},created:function(){this.notifsCopy=this.$store.getters.user.notifications}},U=I,O=Object(m["a"])(U,c,u,!1,null,null,null),M=O.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.menuItems?s("section",{ref:"popup",staticClass:"popup-menu"},t._l(t.menuItems,(function(e,r){return s("div",{key:r,staticClass:"menu-item flex align-center",on:{click:function(s){return s.stopPropagation(),t.itemClicked(e.func)}}},[s("span",{staticClass:"menu-item-icon flex align-center justify-center"},[s("i",{class:t.getIconClass(r)})]),s("span",{staticClass:"menu-item-txt"},[t._v(t._s(e.txt))])])})),0):t._e()},P=[],D={props:{menuItems:{type:Array},offsetY:Number},methods:{getIconClass:function(t){return"fas fa-".concat(this.menuItems[t].iconStr)},itemClicked:function(t){t(),this.$emit("closePopup")}},mounted:function(){if(this.offsetY){var t=this.$refs.popup;t.style.left="95%",t.style.top="".concat(this.offsetY,"px")}}},G=D,F=Object(m["a"])(G,R,P,!1,null,null,null),L=F.exports,J={components:{popupMenu:L,NotificationsModal:M,Avatar:T},name:"nav-menu",data:function(){return{isUserModalShown:!1,isNotifsModalShown:!1,darkMode:!1,popupOptions:[{txt:"My Profile",func:this.goToUserProfile,iconStr:"user-circle"},{txt:"Log out",func:this.logOut,iconStr:"sign-out"},{txt:"Dark mode",func:this.darkModeToggle,iconStr:"adjust"}]}},computed:{userFullName:function(){var t=this.user.fullName,e=t.indexOf(" ");return e<0?t:t.substr(0,e)},numOfNotifs:function(){return this.$store.getters.user.notifications.length},user:function(){return this.$store.getters.user},defaultBoardId:function(){return this.$store.getters.defaultBoardId},boards:function(){return this.$store.getters.boards}},methods:{closePopUps:function(){this.isUserModalShown=!1,this.isNotifsModalShown=!1},darkModeToggle:function(){this.darkMode=!this.darkMode,this.$store.commit({type:"darkMode",darkMode:this.darkMode})},toggleNotifsModal:function(){this.isNotifsModalShown=!this.isNotifsModalShown},goToUserProfile:function(){this.user?this.$router.push("/user/".concat(this.user._id)):this.$router.push("/signup"),this.isUserModalShown=!1},logOut:function(){this.$emit("logout")},toggleUserModal:function(){this.isUserModalShown=!this.isUserModalShown},onLogout:function(){this.$store.dispatch({type:"logout"}),this.$router.push("/")}},created:function(){0===this.boards.length&&this.$store.dispatch({type:"loadBoards"})}},H=J,z=Object(m["a"])(H,n,o,!1,null,null,null),K=z.exports,Y={computed:{darkMode:function(){return this.$store.getters.getDarkModeToggle},isNavShowen:function(){return"/login"!==this.$route.path&&"/signup"!==this.$route.path&&"/"!==this.$route.path}},methods:{logout:function(){this.$store.dispatch("logout")}},destroyed:function(){this.$store.dispatch({type:"deletePrivateSocket"})},components:{navMenu:K}},q=Y,W=Object(m["a"])(q,a,i,!1,null,null,null),X=W.exports,Q=s("9483");Object(Q["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var V,Z=s("8c4f"),tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"home-page page-dark"},[r("div",{staticClass:"nav-container flex wrap align-center space-between"},[r("div",{staticClass:"container-nav"},[t._m(0),r("nav",{staticClass:"nav-home-page flex space-between align-center"},[r("router-link",{attrs:{to:"/"}},[t._v("home")]),t.loggedInUser?t._e():r("router-link",{attrs:{to:"/login"}},[t._v("login")]),t.loggedInUser?t._e():r("router-link",{attrs:{to:"/signup"}},[t._v("sign up")]),t.loggedInUser?r("span",{on:{click:t.onLogout}},[t._v("logout")]):t._e(),r("button",{staticClass:"btn-app btn-nav",on:{click:t.onGetStarted}},[t._v(" Get Started ")])],1)])]),r("main",{staticClass:"main-content top-hero relative"},[r("section",{staticClass:"hero-homepage hero-container "},[r("div",{staticClass:"main-hero-contant flex space-between "},[r("div",{staticClass:"content-container flex column wrap tracking-in-expand"},[r("h1",{staticClass:"title-hero "},[t._v("Work the way that works for you")]),r("p",[t._v(" Highly effective teams choose TaskU - Work OS for better collaboration, organization, and efficiency in all their work. ")]),r("button",{staticClass:"btn-app main-btn",on:{click:t.onGetStarted}},[t._v(" "+t._s(t.enteryButton)+" ")])]),t._m(1)])])]),r("img",{staticClass:"img-right",attrs:{src:s("a145"),alt:""}}),r("img",{staticClass:"img-second-section",attrs:{src:s("4779"),alt:""}})])},et=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-logo"},[r("img",{staticClass:"logo1 flex end",attrs:{src:s("ff62"),alt:""}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"img-hero"},[r("img",{staticClass:"img-home-page",attrs:{src:s("5989"),alt:"",srcset:""}})])}],st=(s("96cf"),s("1da1")),rt={name:"home-page",computed:{firstBoardId:function(){return this.$store.getters.defaultBoardId},loggedInUser:function(){return this.$store.getters.user},enteryButton:function(){return this.loggedInUser?"Enter Workspace":"Try as a guest"}},methods:{onGetStarted:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.loggedInUser){e.next=4;break}t.$router.push("/board/"+t.firstBoardId),e.next=9;break;case 4:return e.next=6,t.$store.dispatch({type:"login",userCred:"guest"});case 6:return e.next=8,t.$store.dispatch({type:"loadBoards"});case 8:t.$router.push("board/".concat(t.firstBoardId));case 9:case"end":return e.stop()}}),e)})))()},onLogout:function(){console.log("Logging out"),this.$store.dispatch({type:"logout"})}},created:function(){this.loggedInUser&&this.$store.dispatch({type:"loadBoards"})}},at=rt,it=Object(m["a"])(at,tt,et,!1,null,null,null),nt=it.exports,ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.board?r("section",{staticClass:"board-app flex"},[r("board-list",{attrs:{expandList:t.expandList,isExpanded:t.isListExpanded,boards:t.boards,title:"Boards"},on:{removeBoard:t.removeCurrBoard,addNewBoard:t.addBoard}},[r("button",{class:{"expand-list-btn":!0,notExpanded:!t.isListExpanded},attrs:{slot:"expand-btn"},on:{click:t.toggleExpandList},slot:"expand-btn"},[r("i",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:"Expand/Hide List",expression:"'Expand/Hide List'",modifiers:{right:!0}}],class:t.btnClassExpend})]),r("board-search",{attrs:{slot:"search"},on:{searchBoard:t.setSearch},slot:"search"})],1),r("div",{class:["board-app-container width100",t.darkMode]},[r("board-header",{attrs:{updateBoardName:t.updateBoardName,updateBoardDesc:t.updateBoardDesc,board:t.board,addGroup:t.addGroup,displayMode:t.displayMode,forceRerender:t.forceRerender},on:{removeMember:t.removeBoardMember,addMember:t.addBoardMember,setDisplayMode:t.setDisplayMode}}),t.board&&"Board"===t.displayMode?r("group-list",{key:t.componentKey,attrs:{groups:t.board.groups,boardName:t.board.name},on:{deleteGroup:t.deleteGroup,updateGroup:t.updateGroup,updateGroups:t.updateGroups,duplicateGroup:t.duplicateGroup,forceRender:t.forceRerender}}):r("trello-mode",{key:t.componentKey,on:{forceRender:t.forceRerender}})],1),t.isTaskDetailsHover?r("div",{staticClass:"backdrop-layer"}):t._e(),r("router-view",{class:["grow",t.darkMode]}),r("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Chat Board",expression:"'Chat Board'",modifiers:{top:!0}},{name:"show",rawName:"v-show",value:t.isChatingBtnShown,expression:"isChatingBtnShown"}],staticClass:"chat-icon-btn-container flex align-center justify-center"},[r("i",{staticClass:"fas chat-icon fa-comments relative",on:{click:t.toggleChat}})]),t.isChating?r("chat-app",{on:{closeChat:t.toggleChat}}):t._e()],1):r("div",{staticClass:"flex justify-center align-center"},[r("img",{staticClass:"loader-app",attrs:{src:s("ebb8")}})])},ct=[],ut=(s("a4d3"),s("e01a"),s("99af"),s("b0c0"),new r["default"]),lt=ut,dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"board-chat"},[s("section",{staticClass:"chat-container flex column"},[s("div",{staticClass:"header-chat flex column "},[s("div",{staticClass:"main-header flex space-between align-center"},[t._v(" "+t._s(t.topicName)+" Chat "),s("button",{staticClass:"btn-close"},[s("i",{staticClass:"fas fa-times",on:{click:t.emitClose}})])]),t.isTypeing?s("span",[t._v(t._s(t.msgTyping))]):t._e()]),s("div",{ref:"massgesContainer",staticClass:"msg-container grow flex column"},[t.msgs?t._l(t.msgs,(function(e,r){return s("div",{key:r,staticClass:"chat-msg flex "},[s("div",{staticClass:"flex align-center",class:["to-msg",e.sender||""]},[s("avatar",{attrs:{user:t.user}}),s("strong",{staticClass:"from-msg"}),s("span",[t._v(t._s(e.txt)+" ")])],1)])})):t._e()],2),s("div",{staticClass:"footer-chat flex align-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.msg.txt,expression:"msg.txt"}],attrs:{type:"text",placeholder:"Write a message...",name:"",id:""},domProps:{value:t.msg.txt},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMsg(e)},input:function(e){e.target.composing||t.$set(t.msg,"txt",e.target.value)}}}),s("i",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Send Msg",expression:"'Send Msg'",modifiers:{top:!0}}],staticClass:"send-btn fas fa-paper-plane",on:{click:t.sendMsg}})])])])},pt=[],ft=s("8055"),mt=s.n(ft),ht="/",gt={terminate:vt,on:bt,off:yt,emit:kt};function vt(){V=null}function bt(t,e){V.on(t,e)}function yt(t,e){V.off(t,e)}function kt(t,e){V.emit(t,e)}V=mt()(ht);var Ct={name:"board-chat",data:function(){return{msgs:[],msg:{from:null,txt:""},topic:null,isTypeing:!1,msgTyping:""}},computed:{topicName:function(){return this.$store.getters.board.name},user:function(){return this.$store.getters.user}},methods:{emitClose:function(){this.$emit("closeChat")},userTyping:function(){var t=null;gt.emit("typing",this.msg.from),clearTimeout(t),t=setTimeout((function(){gt.emit("reset is typing")}),2500)},addMsg:function(t){this.msgs.push(t);var e=this.$refs.massgesContainer;e.scrollTop=e.scrollHeight},sendMsg:function(){this.msg.txt&&(gt.emit("reset is typing"),gt.emit("chat newMsg",this.msg),this.msg.txt="")},updateTopic:function(){var t=this.$route.params.boardId;this.topic=t}},created:function(){var t=this;this.msg.from=this.$store.getters.user.fullName,this.updateTopic(),gt.emit("chat topic",this.topic),gt.on("history msg",(function(e){return t.msgs=e})),gt.on("chat addMsg",this.addMsg),gt.on("chat addMsg sender",this.addMsg),gt.on("isTyping",(function(e){return t.isTypeing=e})),gt.on("msg",(function(e){t.msgTyping=e}))},destroyed:function(){this.msgs=[],gt.off("chat addMsg",this.addMsg)},watch:{"$route.params.boardId":function(){this.updateTopic()}},components:{Avatar:T}},xt=Ct,wt=Object(m["a"])(xt,dt,pt,!1,null,null,null),_t=wt.exports,Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.clonedGroups.length?s("section",{staticClass:"group-container"},[s("ul",{staticClass:"group-list clean-list flex column align-center justify-center gap width100"},[s("draggable",{attrs:{list:t.clonedGroups,group:"groups",animation:"200",handle:".drag-btn"},on:{change:t.emitUpdateGroups}},t._l(t.clonedGroups,(function(e){return s("group-preview",{key:e._id,attrs:{group:e},on:{deleteGroup:t.emitDelete,updateGroup:t.updateGroup,emitForceRender:t.emitForceRender,duplicateGroup:t.duplicateGroup}})})),1)],1)]):t._e()},$t=[],St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"group-preview-container relative"},[s("div",{staticClass:"group-control",on:{mouseover:t.showDragBtn,mouseleave:t.hideDragBtn}},[s("div",{staticClass:"expand-btn-container"},[s("button",{staticClass:"expand-btn",style:t.getStyleStr(t.group.color),on:{click:function(e){return e.stopPropagation(),t.toggleGroupActions(e)}}},[s("i",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:"Actions",expression:"'Actions'",modifiers:{right:!0}}],staticClass:"expand-arrow fas fa-arrow-down"})])]),s("button",{directives:[{name:"show",rawName:"v-show",value:t.isGroupHovering,expression:"isGroupHovering"}],staticClass:"drag-btn"},[s("i",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:"Drag group",expression:"'Drag group'",modifiers:{right:!0}}],staticClass:"fas fa-arrows-alt drag-icon"})])]),s("li",{class:{"group-preview width100 flex space-between align-center ":!0,expanded:t.expanded},on:{click:t.expandGroup}},[s("h4",{ref:"groupName",class:{"group-headers group-name editable":!0,hovering:t.isGroupHovering},style:t.groupColor,attrs:{spellcheck:"false",contenteditable:""},on:{mouseover:t.showDragBtn,mouseleave:t.hideDragBtn,blur:t.updateGroupName,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateGroupName(e)}}},[t._v(" "+t._s(t.groupCopy.name)+" ")]),t.isActionsShowen?s("popup-menu",{attrs:{menuItems:t.popupOptions},on:{closePopup:t.toggleGroupActions}}):t._e(),t.isColorsShowen?s("colors-menu",{on:{setColor:t.setGroupColor}}):t._e(),t.isExpanded?t._e():s("span",[t._v(t._s(t.tasksCount))]),t.isExpanded?s("div",{staticClass:"flex space-between align-center"},[t._m(0)]):t._e(),t.isExpanded&&t.groupCopy.tasks&&t.groupCopy.id?s("task-list",{attrs:{taskColor:t.group.color,tasks:t.groupCopy.tasks,groupId:t.groupCopy.id},on:{forceRender:t.emitForceRender}}):t._e(),s("div",{staticClass:"progress-bar-section flex"},[s("progress-bar",{attrs:{progressBarData:t.progressBarData}}),s("progress-bar",{attrs:{progressBarData:t.progressBarPrio}})],1)],1),t.isActionsShowen||t.isColorsShowen?s("div",{staticClass:"back-drop-layer",on:{click:function(e){return e.stopPropagation(),t.closePopUps(e)}}}):t._e()])},Tt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"group-headers headers flex"},[s("h4",{staticClass:"list-title"},[t._v("Members")]),s("h4",{staticClass:"list-title t-status"},[t._v("Status")]),s("h4",{staticClass:"list-title t-priority"},[t._v("Priority")]),s("h4",{staticClass:"list-title t-date"},[t._v("Due Date")])])}],jt=(s("13d5"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"progressbar flex"},t._l(t.progressBarData,(function(t,e){return s("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.name+" "+t.fraction+" "+Math.round(t.percentage)+"%",expression:" status.name+ ' '+status.fraction+ ' '+Math.round(status.percentage)+'%'",modifiers:{top:!0}}],key:e,staticClass:"item-progressbar",style:"width:"+t.percentage+"%; height:20px; background-color:"+t.statusColor+";"})})),0)}),At=[],Et={components:{},props:{progressBarData:{type:Object}}},Nt=Et,It=Object(m["a"])(Nt,jt,At,!1,null,null,null),Ut=It.exports,Ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.clonedTasks?s("section",{staticClass:"task-list-container width100"},[s("ul",{staticClass:"task-list clean-list flex wrap align-center justify-center gap"},[s("draggable",{staticClass:"width100",attrs:{list:t.clonedTasks,group:"tasks"},on:{change:t.updateTasks}},t._l(t.clonedTasks,(function(e){return s("task-preview",{key:e.id,attrs:{user:t.user,taskColor:t.taskColor,task:e,statuses:t.board.statuses,priorities:t.board.priorities,groupId:t.groupId,boardMembers:t.board.members},on:{deleteTask:t.deleteTask,updateTask:t.updateTask}})})),1)],1),s("form",{staticClass:"add-task-form flex",on:{submit:function(e){return e.preventDefault(),t.addTask(e)}}},[s("span",{staticClass:"task-color input-color",style:t.taskBgc}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.txt,expression:"txt"}],staticClass:"add-task-input",attrs:{type:"text",placeholder:"+ Add Task"},domProps:{value:t.txt},on:{focus:t.showAddBtn,input:function(e){e.target.composing||(t.txt=e.target.value)}}}),s("button",{directives:[{name:"show",rawName:"v-show",value:t.isAddBtnShowen,expression:"isAddBtnShowen"}],attrs:{type:"submit"}},[t._v("Add")])])]):t._e()},Mt=[],Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.taskCopy?s("li",{staticClass:"task-preview flex space-between align-center width100"},[s("div",{staticClass:"flex space-between align-center width100"},[s("span",{staticClass:"task-color",style:t.taskBgc}),s("button",{staticClass:"btn-close",on:{click:function(e){return e.stopPropagation(),t.deleteTask(e)}}},[s("i",{staticClass:"task-icon btn-trash fa-icon far fa-trash-alt"})]),s("div",{staticClass:"task-txt"},[s("span",{staticClass:"editable",attrs:{spellcheck:"false",contenteditable:""},on:{blur:t.updateTaskTxt,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateTaskTxt(e)}}},[t._v(t._s(t.taskCopy.txt))])]),s("el-badge",{staticClass:"item",attrs:{hidden:t.postsLegnth,value:t.task.posts.length,type:"primary"}},[s("i",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Task Details",expression:"'Task Details'",modifiers:{top:!0}}],staticClass:"task-icon far fa-comment fa-icon",style:t.postosColorBtn,on:{click:function(e){return e.stopPropagation(),t.sendToTaskDetails(e)}}})])],1),s("div",{staticClass:"task-details flex"},[s("div",{staticClass:"headers flex"},[s("span",{staticClass:"members-preview relative task-item"},[s("members",{attrs:{className:"img-profile-preview",hiddenBadge:t.membersLegnth,toolTipTxt:"Task Members",classIcon:"task-icon",members:t.taskCopy.members}},[s("add-members",{staticClass:"top-left",attrs:{slot:"add-members",firstTitle:"Task members",secondTitle:"Board members",members:t.taskCopy.members,allMembers:t.filteredBoardMembers},on:{addMember:t.addTaskMember,removeMember:t.removeTaskMember},slot:"add-members"})],1)],1),s("span",{staticClass:"status relative task-item",style:t.getStyleStr(t.taskCopy.status.color),on:{click:function(e){return e.stopPropagation(),t.toggleStatuses(e)}}},[t._v(t._s(t.taskCopy.status.txt)+" "),t.isStatusesShowen?s("label-picker",{attrs:{opts:t.statuses,type:"status"},on:{updateTaskStatus:t.updateTaskStatus}}):t._e()],1),s("span",{staticClass:"priority relative task-item",style:t.getStyleStr(t.taskCopy.priority.color),on:{click:function(e){return e.stopPropagation(),t.togglePriors(e)}}},[t._v(t._s(t.taskCopy.priority.txt)+" "),t.isPriorsShowen?s("label-picker",{attrs:{opts:t.priorities,type:"priority"},on:{updateTaskPriority:t.updateTaskPriority}}):t._e()],1),s("span",{staticClass:"date-picker task-item"},[s("el-date-picker",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Due Date",expression:"'Due Date'",modifiers:{top:!0}}],staticClass:"date-input",attrs:{type:"date",placeholder:"Pick a date"},on:{change:t.updateTaskDate},model:{value:t.taskCopy.dueDate,callback:function(e){t.$set(t.taskCopy,"dueDate",e)},expression:"taskCopy.dueDate"}})],1)])]),t.isStatusesShowen||t.isPriorsShowen?s("div",{staticClass:"back-drop-layer",on:{click:function(e){return e.stopPropagation(),t.closePopups(e)}}}):t._e()]):t._e()},Pt=[],Dt=(s("a623"),s("4160"),s("159b"),s("bc3a")),Gt=s.n(Dt),Ft="/api/",Lt=Gt.a.create({withCredentials:!0}),Jt={get:function(t,e){return Ht(t,"GET",e)},post:function(t,e){return Ht(t,"POST",e)},put:function(t,e){return Ht(t,"PUT",e)},delete:function(t,e){return Ht(t,"DELETE",e)}};function Ht(t){return zt.apply(this,arguments)}function zt(){return zt=Object(st["a"])(regeneratorRuntime.mark((function t(e){var s,r,a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=i.length>1&&void 0!==i[1]?i[1]:"get",r=i.length>2&&void 0!==i[2]?i[2]:null,t.prev=2,t.next=5,Lt({url:"".concat(Ft).concat(e),method:s,data:r});case 5:return a=t.sent,t.abrupt("return",a.data);case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("Error from HTTPSERVICE"),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])}))),zt.apply(this,arguments)}var Kt={getEmptyBoard:Yt,getEmptyGroup:qt,getEmptyTask:Wt,getEmptyPost:Xt,getEmptyActivity:Qt};function Yt(){return{name:"New Team-Board",description:"Write your description!",statuses:[{color:"#c4c4c4",txt:""},{color:"rgb(253, 171, 61)",txt:"Working on it"},{color:"rgb(226, 68, 92)",txt:"Stuck"},{color:"rgb(0, 200, 117)",txt:"Done"}],priorities:[{color:"#a8a8a8",txt:""},{color:" #90d5ffd9",txt:"Low"},{color:"rgb(162, 93, 220)",txt:"Medium"},{color:"#e44258",txt:"High"}],activities:[],members:[],groups:[qt(),qt()]}}function qt(){return{color:"rgb(0, 134, 192)",name:"New Group",tasks:[Wt(),Wt()]}}function Wt(){return{txt:"txt",members:[],dueDate:"",status:{color:"#c4c4c4",txt:""},priority:{color:"#c4c4c4",txt:""},posts:[]}}function Xt(){return{id:null,txt:"txt",createdAt:"",byUser:null}}function Qt(){return{id:null,txt:"txt",createdAt:null,byUser:null}}function Vt(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11,e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<t;r++)e+=s.charAt(Math.floor(Math.random()*s.length));return e}function Zt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=["The sky","above","the port","was","the color of television","tuned","to","a dead channel",".","All","this happened","more or less",".","I","had","the story","bit by bit","from various people","and","as generally","happens","in such cases","each time","it","was","a different story",".","It","was","a pleasure","to","burn"],s="";while(t>0)t--,s+=e[Math.floor(Math.random()*e.length)]+" ";return s}function te(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}var ee={makeId:Vt,getRandomInt:te,makeLorem:Zt},se={query:re,getById:ae,remove:ie,save:ne,getEmptyBoard:de,getEmptyGroup:fe,getEmptyTask:pe,getEmptyPost:me,getEmptyActivity:he};function re(t){return Jt.get("board?userId=".concat(t))}function ae(t){return Jt.get("board/".concat(t))}function ie(t){return Jt.delete("board/".concat(t))}function ne(t){var e=t._id?ue(t):oe(t);return e}function oe(t){return ce.apply(this,arguments)}function ce(){return ce=Object(st["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Jt.post("board/",e));case 1:case"end":return t.stop()}}),t)}))),ce.apply(this,arguments)}function ue(t){return le.apply(this,arguments)}function le(){return le=Object(st["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Jt.put("board/".concat(e._id),e));case 1:case"end":return t.stop()}}),t)}))),le.apply(this,arguments)}function de(){var t=Kt.getEmptyBoard();return t.statuses.forEach((function(t){return t.id=ee.makeId()})),t.priorities.forEach((function(t){return t.id=ee.makeId()})),t.groups.forEach((function(t){t.id=ee.makeId(),t.tasks.forEach((function(t){t.id=ee.makeId(),t.status.id=ee.makeId(),t.priority.id=ee.makeId()}))})),t}function pe(){var t=Kt.getEmptyTask();return t.id=ee.makeId(),t.status.id=ee.makeId(),t.priority.id=ee.makeId(),t}function fe(){var t=Kt.getEmptyGroup();return t.id=ee.makeId(),t.tasks.forEach((function(t){t.id=ee.makeId(),t.status.id=ee.makeId(),t.priority.id=ee.makeId()})),t}function me(){var t=Kt.getEmptyPost();return t.id=ee.makeId(),t.createdAt=Date.now(),t}function he(t,e){var s=Kt.getEmptyActivity();return s.id=ee.makeId(),s.byUser=e,s.txt=t,s.createdAt=Date.now(),s}var ge={getUsers:ve,getById:be,remove:ye,save:ke,login:Ce,signup:we,logout:Be,getEmptyNotif:Ne,sendNotif:Ie};function ve(){return Jt.get("user")}function be(t){return Jt.get("user/".concat(t))}function ye(t){return Jt.delete("user/".concat(t))}function ke(t){var e=t._id?je(t):Se(t);return e}function Ce(t){return xe.apply(this,arguments)}function xe(){return xe=Object(st["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Jt.post("auth/login",e);case 2:return s=t.sent,t.abrupt("return",Ee(s));case 4:case"end":return t.stop()}}),t)}))),xe.apply(this,arguments)}function we(t){return _e.apply(this,arguments)}function _e(){return _e=Object(st["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Jt.post("auth/signup",e);case 2:return s=t.sent,t.abrupt("return",Ee(s));case 4:case"end":return t.stop()}}),t)}))),_e.apply(this,arguments)}function Be(){return $e.apply(this,arguments)}function $e(){return $e=Object(st["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Jt.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return t.stop()}}),t)}))),$e.apply(this,arguments)}function Se(t){return Te.apply(this,arguments)}function Te(){return Te=Object(st["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Jt.post("user/",e));case 1:case"end":return t.stop()}}),t)}))),Te.apply(this,arguments)}function je(t){return Ae.apply(this,arguments)}function Ae(){return Ae=Object(st["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Jt.put("user/".concat(e._id),e));case 1:case"end":return t.stop()}}),t)}))),Ae.apply(this,arguments)}function Ee(t){return sessionStorage.setItem("user",JSON.stringify(t)),t}function Ne(){return{id:ee.makeId(),txt:"",type:"",byUser:null,toUserId:null,isRead:!1,createdAt:Date.now()}}function Ie(t){return Ue.apply(this,arguments)}function Ue(){return Ue=Object(st["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Jt.post("user/notif/".concat(e.toUserId),e));case 1:case"end":return t.stop()}}),t)}))),Ue.apply(this,arguments)}var Oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"members-actions"},[s("el-badge",{staticClass:"item",attrs:{hidden:t.hiddenBadge,value:t.members.length,type:"primary"}},[t.membersToshow&&t.membersToshow?s("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.toolTipTxt,expression:"toolTipTxt",modifiers:{top:!0}}],staticClass:"flex members-show-container relative",on:{click:t.togglemembers}},t._l(t.membersToshow,(function(e,r){return s("div",{key:e._id},[s("span",{class:"member-show member-"+r},[s("avatar",{attrs:{className:t.className,size:t.size,user:e}})],1)])})),0):t._e(),t.membersToshow.length?t._e():s("button",{staticClass:"btn-close",on:{click:t.togglemembers}},[s("i",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.toolTipTxt,expression:"toolTipTxt",modifiers:{top:!0}}],class:t.classIcon+" far fa-user-circle fa-icon"})])]),t.isMembersShown?t._t("add-members"):t._e(),t.isMembersShown?s("div",{staticClass:"back-drop-layer",on:{click:function(e){e.preventDefault(),t.isMembersShown=!1}}}):t._e()],2)},Me=[],Re={props:{members:{type:Array},toolTipTxt:{type:String},hiddenBadge:{type:Boolean,default:!1},classIcon:String,className:{type:String,default:""},size:{type:Number,default:25}},data:function(){return{isMembersShown:!1}},computed:{membersToshow:function(){var t=JSON.parse(JSON.stringify(this.members));return this.members.length>3&&(t=t.splice(0,3)),t}},methods:{togglemembers:function(){this.isMembersShown=!this.isMembersShown}},created:function(){},components:{Avatar:T}},Pe=Re,De=Object(m["a"])(Pe,Oe,Me,!1,null,null,null),Ge=De.exports,Fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"members"},[s("h3",{staticClass:"title-members"},[t._v(t._s(t.firstTitle))]),s("ul",{staticClass:"clean-list first add-members-list"},t._l(t.members,(function(e){return s("li",{key:e._id,staticClass:"member flex align-center"},[s("div",{staticClass:"user-dateils-container flex align-center",on:{click:function(s){return s.stopPropagation(),t.goToUserDetails(e._id)}}},[s("avatar",{attrs:{user:e,size:25}}),s("span",{staticClass:"member-name"},[t._v(t._s(e.fullName))])],1),s("div",{staticClass:"action-container flex align-center"},[s("i",{staticClass:"action-icon fas fa-minus",on:{click:function(s){return s.stopPropagation(),t.emitRemoveMember(e)}}})])])})),0),s("h3",{staticClass:"title-members"},[t._v(t._s(t.secondTitle))]),s("ul",{staticClass:"add-members-list clean-list"},t._l(t.allMembers,(function(e){return s("li",{key:e._id,staticClass:"member flex align-center"},[s("div",{staticClass:"user-dateils-container flex align-center",on:{click:function(s){return s.stopPropagation(),t.goToUserDetails(e._id)}}},[s("avatar",{attrs:{user:e,size:25}}),s("span",{staticClass:"member-name"},[t._v(t._s(e.fullName))])],1),s("div",{staticClass:"action-container flex align-center"},[s("i",{staticClass:"action-icon fas fa-plus",on:{click:function(s){return s.stopPropagation(),t.emitAddMember(e)}}})])])})),0)])},Le=[],Je={props:{members:Array,allMembers:Array,firstTitle:String,secondTitle:String},methods:{goToUserDetails:function(t){this.$router.push("/user/".concat(t))},emitAddMember:function(t){this.$emit("addMember",t)},emitRemoveMember:function(t){this.$emit("removeMember",t)}},components:{Avatar:T}},He=Je,ze=Object(m["a"])(He,Fe,Le,!1,null,null,null),Ke=ze.exports,Ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.opts?s("section",{staticClass:"label-picker"},t._l(t.opts,(function(e,r){return s("div",{key:r,staticClass:"label-picker-opt flex align-center justify-center",style:t.getStyleStr(e.color),on:{click:function(s){return t.updateTask(e)}}},[t._v(" "+t._s(e.txt)+" ")])})),0):t._e()},qe=[],We={props:{opts:Array,type:String},methods:{getStyleStr:function(t){return"backgroundColor:".concat(t)},updateTask:function(t){"status"===this.type?this.updateTaskStatus(t):this.updateTaskPriority(t)},updateTaskStatus:function(t){this.$emit("updateTaskStatus",t)},updateTaskPriority:function(t){this.$emit("updateTaskPriority",t)}}},Xe=We,Qe=Object(m["a"])(Xe,Ye,qe,!1,null,null,null),Ve=Qe.exports,Ze={components:{labelPicker:Ve,addMembers:Ke,members:Ge},name:"task-preview",data:function(){return{taskCopy:null,isStatusesShowen:!1,isPriorsShowen:!1,activity:null}},props:{taskColor:String,task:Object,statuses:Array,priorities:Array,groupId:String,boardMembers:[Array,Object],user:Object},computed:{miniUser:function(){return this.$store.getters.miniUser},postsLegnth:function(){return!(this.task.posts.length>0)},postosColorBtn:function(){return this.task.posts.length>0?"color: #0085ff;":""},membersLegnth:function(){return!(this.task.members.length>3)},taskBgc:function(){return{backgroundColor:this.taskColor}},filteredBoardMembers:function(){var t=this.boardMembers,e=this.taskCopy.members;if(e){var s=t.filter((function(t){return e.every((function(e){return e._id!==t._id}))}));return s}return t}},methods:{openTaskDetails:function(){},updateTaskDate:function(){var t=this,e=k()(this.taskCopy.dueDate).format("ll");if("Invalid date"!==e){this.taskCopy.members.forEach((function(s){var r=ge.getEmptyNotif();r.txt='Upadte task due date to "'.concat(e,'"'),r.type="all",r.byUser={mail:t.user.email,imgUrl:t.user.imgUrl},r.toUserId=s._id,t.$store.dispatch({type:"sendNotif",notif:r})}));var s="Task due ".concat(this.taskCopy.txt," date was changed to ").concat(e),r=se.getEmptyActivity(s,this.miniUser);r.taskId=this.taskCopy.id,this.activity=r,this.$notify({message:"Task due date updated",position:"bottom-left",duration:2e3}),this.updateTask()}},addTaskMember:function(t){var e="Member ".concat(t.fullName," was added to task"),s=ge.getEmptyNotif();s.txt='assigned you to "'.concat(this.taskCopy.txt,'"'),s.type="assigned",s.byUser={mail:this.user.email,imgUrl:this.user.imgUrl},s.toUserId=t._id,this.$store.dispatch({type:"sendNotif",notif:s});var r=se.getEmptyActivity(e,this.miniUser);r.taskId=this.taskCopy.id,this.taskCopy.members.unshift(t),this.activity=r,this.$notify({message:"Member assinged to task",position:"bottom-left",duration:2e3}),this.updateTask()},removeTaskMember:function(t){var e=ge.getEmptyNotif();e.txt="".concat(this.user.fullName,' took you off from task "').concat(this.taskCopy.txt,'"'),e.type="all",e.byUser={mail:this.user.email,imgUrl:this.user.imgUrl},e.toUserId=t._id,this.$store.dispatch({type:"sendNotif",notif:e});var s=this.taskCopy.members.findIndex((function(e){return e._id===t._id})),r="Member ".concat(t.fullName," was removed from task"),a=se.getEmptyActivity(r,this.miniUser);a.taskId=this.taskCopy.id,this.taskCopy.members.splice(s,1),this.activity=a,this.$notify({message:"Member removed from task",position:"bottom-left",duration:2e3}),this.updateTask()},getStyleStr:function(t){return"backgroundColor:".concat(t)},toggleStatuses:function(){this.isStatusesShowen=!this.isStatusesShowen},togglePriors:function(){this.isPriorsShowen=!this.isPriorsShowen},deleteTask:function(){this.$emit("deleteTask",this.taskCopy.id)},updateTaskTxt:function(t){var e=this;if(t.target.blur(),t.target.innerText!==this.taskCopy.txt){this.taskCopy.members.forEach((function(s){var r=ge.getEmptyNotif();r.txt='Upadte task content to "'.concat(t.target.innerText,'"'),r.type="all",r.byUser={mail:e.user.email,imgUrl:e.user.imgUrl},r.toUserId=s._id,e.$store.dispatch({type:"sendNotif",notif:r})}));var s=this.taskCopy.txt;this.taskCopy.txt=t.target.innerText;var r="Task '".concat(s,"' was changed to '").concat(t.target.innerText,"'"),a=se.getEmptyActivity(r,this.miniUser);a.taskId=this.taskCopy.id,this.activity=a,this.$notify({message:"Task txt updated",position:"bottom-left",duration:2e3}),this.updateTask()}},updateTask:function(){this.$emit("updateTask",this.taskCopy,this.activity)},sendToTaskDetails:function(){this.$route.params.taskId!==this.task.id&&this.$router.push("/board/".concat(this.$route.params.boardId,"/task/").concat(this.task.id))},updateComponentTask:function(t){this.taskCopy.id===this.$route.params.taskId&&(this.taskCopy=t)},updateTaskPriority:function(t){var e=this;this.taskCopy.members.forEach((function(s){var r=ge.getEmptyNotif();r.txt='Upadte task priority to "'.concat(t.txt,'"'),r.type="all",r.byUser={mail:e.user.email,imgUrl:e.user.imgUrl},r.toUserId=s._id,e.$store.dispatch({type:"sendNotif",notif:r})}));var s="Task priority was updated to ".concat(t.txt),r=se.getEmptyActivity(s,this.miniUser);r.taskId=this.taskCopy.id,this.activity=r,this.taskCopy.priority.txt=t.txt,this.taskCopy.priority.color=t.color,this.$notify({message:"Task priority updated",position:"bottom-left",duration:2e3}),this.updateTask(),this.isPriorsShowen=!1},updateTaskStatus:function(t){var e=this;this.taskCopy.members.forEach((function(s){var r=ge.getEmptyNotif();r.txt='Upadte task status to "'.concat(t.txt,'"'),r.type="all",r.byUser={mail:e.user.email,imgUrl:e.user.imgUrl},r.toUserId=s._id,e.$store.dispatch({type:"sendNotif",notif:r})}));var s="Task status was updated to ".concat(t.txt),r=se.getEmptyActivity(s,this.miniUser);r.taskId=this.taskCopy.id,this.activity=r,this.taskCopy.status.txt=t.txt,this.taskCopy.status.color=t.color,this.$notify({message:"Task status updated",position:"bottom-left",duration:2e3}),this.updateTask(),this.isPriorsShowen=!1},closePopups:function(){this.isStatusesShowen=!1,this.isPriorsShowen=!1}},created:function(){var t=this;lt.$on("updateTaskPreview",this.updateComponentTask),lt.$on("updateTaskPreviewDestory",(function(e){t.taskCopy=e,t.activity=null,t.updateTask()})),this.taskCopy=this.task}},ts=Ze,es=Object(m["a"])(ts,Rt,Pt,!1,null,null,null),ss=es.exports,rs=s("b76a"),as=s.n(rs),is={name:"task-list",props:{tasks:Array,groupId:String,taskColor:String},data:function(){return{txt:"",isAddBtnShowen:!1,clonedTasks:null}},computed:{board:function(){return this.$store.getters.board},data:function(){return{txt:"",isAddBtnShowen:!1,clonedTasks:null}},taskBgc:function(){return{backgroundColor:this.taskColor}},user:function(){return this.$store.getters.user},miniUser:function(){return this.$store.getters.miniUser}},methods:{addEmptyTask:function(t){if(this.groupId===t){var e=se.getEmptyTask(),s=this.getGroupById(),r="".concat(this.user.fullName," add new task in ").concat(s.name),a=se.getEmptyActivity(r,this.miniUser);a.groupId=t,this.board.activities.unshift(a),s.tasks.push(e),this.$store.dispatch({type:"saveBoard",board:this.board}),this.$notify({message:"New task added",position:"bottom-left",duration:2e3}),this.$emit("forceRender")}},showAddBtn:function(){this.isAddBtnShowen=!0},getGroupById:function(){var t=this,e=this.board.groups.findIndex((function(e){return e.id===t.groupId}));return this.board.groups[e]},addTask:function(){var t=se.getEmptyTask();t.txt=this.txt;var e="Task '".concat(t.txt,"' added"),s=se.getEmptyActivity(e,this.miniUser);s.groupId=this.groupId,this.board.activities.unshift(s);var r=this.getGroupById();r.tasks.push(t),this.$store.dispatch({type:"saveBoard",board:this.board}),this.txt="",this.isAddBtnShowen=!1,this.$notify({message:"New task added",position:"bottom-left",duration:2e3}),this.$emit("forceRender")},deleteTask:function(t){var e=this.getGroupById(),s=e.tasks.findIndex((function(e){return e.id===t}));e.tasks.splice(s,1);var r="".concat(this.user.fullName," remove a task from ").concat(e.name),a=se.getEmptyActivity(r,this.miniUser);a.groupId=this.groupId,this.board.activities.unshift(a),this.$store.dispatch({type:"saveBoard",board:this.board}),this.$notify({message:"Task removed",position:"bottom-left",duration:2e3}),this.$emit("forceRender")},updateTask:function(t,e){e&&this.board.activities.unshift(e);var s=this.getGroupById(),r=s.tasks.findIndex((function(e){return e.id===t.id}));s.tasks.splice(r,1,t),this.$store.dispatch({type:"saveBoard",board:this.board}),this.$emit("forceRender")},updateTasks:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=t.getGroupById(),s.tasks=t.clonedTasks,t.$store.dispatch({type:"saveBoard",board:t.board}),t.$emit("forceRender");case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.clonedTasks=JSON.parse(JSON.stringify(this.tasks))},components:{taskPreview:ss,draggable:as.a}},ns=is,os=Object(m["a"])(ns,Ot,Mt,!1,null,null,null),cs=os.exports,us=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"colors-menu"},[s("ul",{staticClass:"colors-container clean-list flex wrap justify-center align-center"},t._l(t.colors,(function(e,r){return s("li",{key:r,staticClass:"color",style:{backgroundColor:e},on:{click:function(s){return t.emitColor(e)}}})})),0)])},ls=[],ds={data:function(){return{colors:["#377d50","#5ac47d","#a9d04b","#c8b656","#f8cc45","#7151ca","#3885bb","#669bf5","#ad3f55","#d2505f","#eb3b89","#ee6e40","#f2ae54","#c4c4c4","#0094fd","#009986","#3d3d3d","#567c8c"]}},methods:{emitColor:function(t){this.$emit("setColor",t)}}},ps=ds,fs=Object(m["a"])(ps,us,ls,!1,null,null,null),ms=fs.exports,hs={name:"group-preview",props:{group:Object,deleteGroup:Function},data:function(){return{isGroupHovering:!1,isExpanded:!0,groupCopy:null,isActionsShowen:!1,isColorsShowen:!1,popupOptions:[{txt:"Expand",func:this.expandGroup,iconStr:"expand-alt"},{txt:"New Task",func:this.addNewTask,iconStr:"plus"},{txt:"Delete",func:this.emitDelete,iconStr:"trash"},{txt:"Change Color",func:this.toggleColorsMenu,iconStr:"paint-brush"},{txt:"Duplicate",func:this.duplicateGroup,iconStr:"copy"}]}},methods:{showDragBtn:function(){this.isGroupHovering=!0},hideDragBtn:function(){this.isGroupHovering=!1},closePopUps:function(){this.isActionsShowen=!1,this.isColorsShowen=!1},addNewTask:function(){var t=se.getEmptyTask();this.groupCopy.tasks.push(t),this.$emit("updateGroup",this.groupCopy)},focusGroupName:function(){this.$refs.groupName.focus(),this.isActionsShowen=!1},getStyleStr:function(t){return"backgroundColor:".concat(t)},duplicateGroup:function(){this.$emit("duplicateGroup",this.groupCopy)},emitForceRender:function(){this.$emit("emitForceRender")},toggleColorsMenu:function(){this.isColorsShowen=!this.isColorsShowen},toggleGroupActions:function(){this.isActionsShowen=!this.isActionsShowen},emitDelete:function(){this.$emit("deleteGroup",this.groupCopy.id),this.isExpanded=!1},toggleGroup:function(){this.isExpanded=!this.isExpanded,this.isActionsShowen=!1},expandGroup:function(){this.isExpanded=!0,this.isActionsShowen=!1},setGroupColor:function(t){this.isActionsShowen=!1,this.groupCopy.color=t,this.isColorsShowen=!1,this.$emit("updateGroup",this.groupCopy)},updateGroupName:function(t){t.target.blur(),t.target.innerText!==this.groupCopy.name&&(this.groupCopy.name=t.target.innerText,this.$emit("updateGroup",this.groupCopy))}},computed:{progressBarData:function(){var t=this.group.tasks.reduce((function(t,e){return t[e.status.txt]||(t[e.status.txt]={count:0,statusColor:e.status.color}),t[e.status.txt].count++,t}),{}),e=this.group.tasks.length;for(var s in t)t[s].fraction="".concat(t[s].count," / ").concat(e),t[s].percentage=t[s].count/e*100,t[s].name=s;return t},progressBarPrio:function(){var t=this.group.tasks.reduce((function(t,e){return t[e.priority.txt]||(t[e.priority.txt]={count:0,statusColor:e.priority.color}),t[e.priority.txt].count++,t}),{}),e=this.group.tasks.length;for(var s in t)t[s].fraction="".concat(t[s].count," / ").concat(e),t[s].percentage=t[s].count/e*100,t[s].name=s;return t},tasksCount:function(){return"".concat(this.groupCopy.tasks.length," items")},expanded:function(){return!!this.isExpanded},groupColor:function(){return{color:this.groupCopy.color}},board:function(){return this.$store.getters.board}},created:function(){this.groupCopy=this.group},components:{taskList:cs,colorsMenu:ms,progressBar:Ut,popupMenu:L}},gs=hs,vs=Object(m["a"])(gs,St,Tt,!1,null,null,null),bs=vs.exports,ys={name:"group-list",props:{groups:Array},data:function(){return{clonedGroups:null}},created:function(){this.clonedGroups=JSON.parse(JSON.stringify(this.groups))},components:{groupPreview:bs,draggable:as.a},methods:{duplicateGroup:function(t){this.$emit("duplicateGroup",t)},emitDelete:function(t){this.$emit("deleteGroup",t)},emitForceRender:function(){this.$emit("forceRender")},updateGroup:function(t){this.$emit("updateGroup",t)},emitUpdateGroups:function(){this.$emit("updateGroups",this.clonedGroups)}}},ks=ys,Cs=Object(m["a"])(ks,Bt,$t,!1,null,null,null),xs=Cs.exports,ws=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{class:{"board-list flex column relative":!0,expanded:t.isExpanded}},[t._t("expand-btn"),r("h3",{staticClass:"title-board-list"},[t._v(t._s(t.title))]),r("div",{staticClass:"add-options flex align-center",on:{click:t.addBoard}},[r("i",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add Board",expression:"'Add Board'",modifiers:{top:!0}}],staticClass:"fal fa-plus-circle add-icon"}),r("span",{staticClass:"add-txt"},[t._v("Add")])]),r("div",[t._t("search")],2),r("span",{staticClass:"separator-line"}),t.boards?r("ul",{staticClass:"boards-list clean-list"},[t._l(t.boards,(function(e){return r("li",{key:e._id,staticClass:"board-item"},[r("img",{staticClass:"board-img",attrs:{src:s("afc8"),alt:""}}),r("i",{staticClass:"minimenu-icon fas fa-ellipsis-h",on:{click:function(s){return t.togglePopup(s,e._id)}}}),r("router-link",{staticClass:"item-txt",attrs:{to:"/board/"+e._id}},[t._v(t._s(t.titleBoardToShow(e.name)))])],1)})),t.isPopupShowen?r("div",{staticClass:"back-drop-layer",on:{click:t.togglePopup}}):t._e()],2):t._e(),t.isPopupShowen?r("popupMenu",{attrs:{menuItems:t.popupOptions,offsetY:t.popupY},on:{closePopup:function(e){t.isPopupShowen=!1}}}):t._e()],2)},_s=[],Bs={name:"board-list",props:{boards:[Array,Object],title:String,isExpanded:Boolean,expandList:Function},data:function(){return{isPopupShowen:!1,popupOptions:[{txt:"Delete board",func:this.removeCurrBoard,iconStr:"trash"}],currBoardId:null}},methods:{titleBoardToShow:function(t){return t.length>10?t.substr(0,8)+"..":t},removeCurrBoard:function(){this.$emit("removeBoard",this.currBoardId)},addBoard:function(){this.$emit("addNewBoard")},togglePopup:function(t,e){this.popupY=t.y,this.currBoardId=this.isPopupShowen?"":e,this.isPopupShowen=!this.isPopupShowen}},components:{popupMenu:L}},$s=Bs,Ss=Object(m["a"])($s,ws,_s,!1,null,null,null),Ts=Ss.exports,js=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"board-search flex"},[s("div",{class:{"input-container relative flex align-center justify-center":!0,"input-expanded":t.isInputExpanded}},[s("i",{staticClass:"far fa-search search-icon"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchBoard,expression:"searchBoard"}],ref:"searchInput",class:{"search-input":!0},attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchBoard},on:{click:t.expandInput,input:[function(e){e.target.composing||(t.searchBoard=e.target.value)},t.emitSearch]}})]),t.isInputExpanded?s("div",{staticClass:"back-drop-layer",on:{click:function(e){t.isInputExpanded=!1}}}):t._e()])},As=[],Es=s("2ef0"),Ns=s.n(Es),Is={name:"board-search",data:function(){return{searchBoard:"",isInputExpanded:!1}},methods:{expandInput:function(){this.isInputExpanded=!0,this.$refs.searchInput.focus()},emitSearch:function(){var t=JSON.parse(JSON.stringify(this.searchBoard));this.$emit("searchBoard",t)}},created:function(){this.emitSearch=Ns.a.debounce(this.emitSearch,500)}},Us=Is,Os=Object(m["a"])(Us,js,As,!1,null,null,null),Ms=Os.exports,Rs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.board?s("header",{staticClass:"board-header"},[s("board-info",{attrs:{board:t.board},on:{removeMember:t.emitRemoveMember,addMember:t.emitAddMember}}),s("div",{staticClass:"board-name-container"},[s("h2",{staticClass:"board-name editable",attrs:{spellcheck:"false",contenteditable:""},on:{blur:t.updateBoardName,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateBoardName(e)}}},[t._v(" "+t._s(t.board.name)+" ")])]),t.board.description?s("h3",{staticClass:"board-description editable",attrs:{spellcheck:"false",contenteditable:""},on:{blur:t.updateBoardDesc,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateBoardDesc(e)}}},[t._v(" "+t._s(t.board.description)+" ")]):t._e(),s("div",{staticClass:"display-mode"},[s("el-select",{attrs:{value:t.displayMode,placeholder:"Display"},on:{change:t.setDisplayMode}},[s("label",[s("el-option",{staticClass:"opt",attrs:{value:"Board",placeholder:"Board"}},[s("i",{staticClass:"far fa-bars menu-icon"},[s("span",{staticClass:"inner-txt"},[t._v("Board")])])])],1),s("label",[s("el-option",{staticClass:"opt",attrs:{value:"Canavan\n",placeholder:"Canavan\n"}},[s("i",{staticClass:"fal fa-chalkboard menu-icon"},[s("span",{staticClass:"inner-txt"},[t._v("Canavan ")])])])],1)])],1),t.board?s("board-filter",{attrs:{statuses:t.board.statuses,priorities:t.board.priorities},on:{addGroup:t.addGroup,forceRerender:t.forceRerender}}):t._e()],1):t._e()},Ps=[],Ds=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.board?s("div",{staticClass:"board-info flex justify-center align-center"},[s("div",{staticClass:"btn-members-container"},[s("members",{attrs:{hiddenBadge:t.membersLegnth,size:35,toolTipTxt:"Board Members",classIcon:"icon-nav-hader",members:t.board.members}},[s("add-members",{staticClass:"top-right",attrs:{slot:"add-members",firstTitle:"Board Members",secondTitle:"Site Users",members:t.board.members,allMembers:t.filteredUsers},on:{removeMember:t.emitRemoveMember,addMember:t.emitAddMember},slot:"add-members"})],1)],1),s("div",{staticClass:"btn-booard-activity-container"},[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Board activity",expression:"'Board activity'",modifiers:{top:!0}}],staticClass:"activity-btn btn-close btn-second ",on:{click:t.boardActivities}},[t._v(" Activities / "),t.activiitesLength?s("span",{staticClass:"blue"},[t._v(t._s(t.activiitesLength))]):t._e()]),s("i",{staticClass:"fas fa-chart-line activity-mobile",on:{click:t.boardActivities}},[s("span",{staticClass:"activity-txt-mobile"},[t._v(" / "+t._s(t.activiitesLength))])])])]):t._e()},Gs=[],Fs={props:{board:Object},data:function(){return{isMembersShown:!1,darkMode:!1,isBoardActivityShowen:!1}},computed:{activiitesLength:function(){var t=this.$store.getters.boardActivities;return!t.length||t.length<=0?"0":t.length},membersLegnth:function(){return!(this.board.members.length>3)},filteredUsers:function(){var t=this.$store.getters.miniUsers,e=this.board.members,s=t.filter((function(t){return e.every((function(e){return e._id!==t._id}))}));return s}},methods:{boardActivities:function(){this.isBoardActivityShowen=!0,this.$router.push("/board/".concat(this.$route.params.boardId,"/activities"))},emitRemoveMember:function(t){this.$emit("removeMember",t)},emitAddMember:function(t){this.$emit("addMember",t)},toggleMembersList:function(){this.isMembersShown=!this.isMembersShown}},components:{addMembers:Ke,members:Ge}},Ls=Fs,Js=Object(m["a"])(Ls,Ds,Gs,!1,null,null,null),Hs=Js.exports,zs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"board-filters flex"},[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add New group",expression:"'Add New group'",modifiers:{top:!0}}],staticClass:"add-group-btn",on:{click:t.addGroup}},[t._v(" New Group ")]),s("i",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Add New group",expression:"'Add New group'",modifiers:{top:!0}}],staticClass:"fal fa-plus-circle add-btn-narrow-mode",on:{click:t.addGroup}}),s("span",{class:{"input-container relative flex align-center justify-center":!0}},[s("i",{staticClass:"far fa-search search-icon"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.searchTerm,expression:"filterBy.searchTerm"}],ref:"searchInput",class:{"search-input":!0},attrs:{type:"text",placeholder:"Search"},domProps:{value:t.filterBy.searchTerm},on:{input:[function(e){e.target.composing||t.$set(t.filterBy,"searchTerm",e.target.value)},t.updateFilterSearch]}})]),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Filters",expression:"'Filters'",modifiers:{top:!0}}],staticClass:"filters-btn",on:{click:t.toggleFilter}},[s("i",{staticClass:"fal fa-filter filter-icon"}),t._v(" Filter")]),s("div",{staticClass:"filter-modal "},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isFilterShowen,expression:"isFilterShowen"}],class:{"filters flex":!0,expanded:t.isFilterShowen}},[s("filter-form",{attrs:{title:"Status",opts:t.statuses},on:{updateFilter:t.updateFilter}}),s("filter-form",{attrs:{title:"Priority",opts:t.priorities},on:{updateFilter:t.updateFilter}}),s("filter-users",{attrs:{title:"Person",users:t.users},on:{updateFilter:t.updateFilter}})],1),t.isFilterShowen?s("div",{staticClass:"back-drop-layer",on:{click:function(e){return e.stopPropagation(),t.closePopUps(e)}}}):t._e()])])},Ks=[],Ys=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"filter-form flex column"},[s("h4",{staticClass:"filter-title"},[t._v(t._s(t.title))]),s("button",{staticClass:"filter-btn",on:{click:t.updateFilter}},[t._v("All")]),t._l(t.filteredOpts,(function(e){return s("button",{key:e.id,staticClass:"filter-btn relative",attrs:{type:"submit"},on:{click:t.updateFilter}},[s("span",{staticClass:"filter-txt"},[t._v(t._s(e.txt))]),s("span",{staticClass:"status-circle",style:t.getStyleStr(e.color)})])}))],2)},qs=[],Ws={props:{opts:Array,title:String},data:function(){return{filteredOpts:null}},computed:{},methods:{updateFilter:function(t){var e=t.target.innerText,s={title:this.title.toLowerCase(),opt:e};this.$emit("updateFilter",s)},getStyleStr:function(t){return"backgroundColor:".concat(t,"; border-color:").concat(t,";")}},created:function(){this.filteredOpts=this.opts.filter((function(t){return t.txt}))}},Xs=Ws,Qs=Object(m["a"])(Xs,Ys,qs,!1,null,null,null),Vs=Qs.exports,Zs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"filter-form flex column"},[s("h4",{staticClass:"filter-title"},[t._v(t._s(t.title))]),s("button",{staticClass:"filter-btn flex align-center",on:{click:function(e){return t.updateFilter("All")}}},[t._v("All")]),t._l(t.users,(function(e){return s("button",{key:e._id,staticClass:"filter-btn relative flex align-center",attrs:{type:"submit"},on:{click:function(s){return t.updateFilter(e._id)}}},[s("div",{staticClass:"user-avatar"},[s("avatar",{attrs:{className:"img-profile-preview",size:25,user:e}})],1),e.fullName?s("span",{staticClass:"filter-txt user-filter"},[t._v(t._s(e.fullName))]):t._e()])}))],2)},tr=[],er={props:{users:Array,title:String},methods:{updateFilter:function(t){var e={title:this.title.toLowerCase(),opt:t};this.$emit("updateFilter",e)}},components:{Avatar:T}},sr=er,rr=Object(m["a"])(sr,Zs,tr,!1,null,null,null),ar=rr.exports,ir={name:"board-filter",props:{priorities:Array,statuses:Array},data:function(){return{isFilterShowen:!1,newItem:null}},computed:{filterBy:function(){return this.$store.getters.filterBy},users:function(){return this.$store.getters.miniUsers}},methods:{addGroup:function(){this.$emit("addGroup")},toggleFilter:function(){this.isFilterShowen=!this.isFilterShowen},updateFilterSearch:function(){this.$store.commit({type:"setFilterBy",filterBy:this.filterBy}),this.$emit("forceRerender")},updateFilter:function(t){this.filterBy[t.title]=t.opt,this.$store.commit({type:"setFilterBy",filterBy:this.filterBy}),this.$emit("forceRerender"),this.isFilterShowen=!1},closePopUps:function(){this.isFilterShowen=!1}},components:{filterForm:Vs,filterUsers:ar}},nr=ir,or=Object(m["a"])(nr,zs,Ks,!1,null,null,null),cr=or.exports,ur={props:{updateBoardDesc:Function,updateBoardName:Function,board:Object,addGroup:Function,forceRerender:Function},data:function(){return{isAllowed:!0}},computed:{displayMode:function(){return this.$store.getters.displayMode}},methods:{setDisplayMode:function(t){this.$emit("setDisplayMode",t)},emitRemoveMember:function(t){this.$emit("removeMember",t)},emitAddMember:function(t){this.$emit("addMember",t)}},components:{boardInfo:Hs,boardFilter:cr}},lr=ur,dr=Object(m["a"])(lr,Rs,Ps,!1,null,null,null),pr=dr.exports,fr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"trello flex wrap align-center"},[s("div",{staticClass:"status-container"},[s("status-list",{attrs:{statuses:t.tasksByStatues,group:t.group}})],1)])},mr=[],hr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"status-list- flex "},[s("draggable",{staticClass:"flex",attrs:{list:t.clonedStatuses,group:"list"}},t._l(t.clonedStatuses,(function(e){return s("status-preview",{key:e.id,attrs:{status:e,group:t.group}})})),1)],1)},gr=[],vr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"status-preview flex align-center clean-list status-list",style:"background-color:"+t.status.color},[s("span",{staticClass:"status-title"},[t._v(t._s(t.status.txt||"Need to review")+" "),t.status.tasks?s("span",[t._v("/ "+t._s(t.status.tasks.length))]):t._e()]),s("div",{staticClass:"tasks-preview-container align-center"},[s("draggable",{staticClass:"width100 drag-canvan",attrs:{list:t.cloneTasks,group:"tasks"},on:{change:t.updateTaskStatus}},t._l(t.cloneTasks,(function(e){return s("task-preview",{key:e.id,attrs:{task:e,group:t.group},on:{updateTask:t.updateTask,deleteTask:t.deleteTask}})})),1)],1),s("div",{staticClass:"input-container",style:t.onFocousBgc},[s("div",{staticClass:"add-task-form flex align-center space-between"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.txt,expression:"txt"}],staticClass:"add-task-input",attrs:{type:"text",placeholder:"+ Add Task"},domProps:{value:t.txt},on:{click:t.focusInput,blur:t.unFocusInput,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTask(e)},input:function(e){e.target.composing||(t.txt=e.target.value)}}}),t.isAddBtnShown?s("button",{staticClass:"add-btn",style:"background-color:"+t.status.color,on:{click:t.addTask}},[t._v(" + Add ")]):t._e()])])])},br=[],yr=(s("7db0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"task-preview-card flex",on:{mouseover:t.showBtns,mouseleave:t.hideBtns}},[s("div",{staticClass:"task-preivew-header flex space-between relative width100"},[s("div",{staticClass:"task-txt"},[s("span",{staticClass:"editable txt-edit",attrs:{spellcheck:"false",contenteditable:""},on:{blur:t.updateTaskTxt,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateTaskTxt(e)}}},[t._v(t._s(t.taskCopy.txt))])])]),t.isHovering?s("div",{staticClass:"btns-control flex column space-between align-center"},[s("avatar",{attrs:{user:t.user,size:20}}),s("button",{staticClass:"delete-btn",on:{click:t.deleteTask}},[s("i",{staticClass:"fas fa-trash delete-icon "})]),s("button",{staticClass:"details-btn",on:{click:function(e){return e.stopPropagation(),t.openTaskDetails(e)}}},[s("i",{staticClass:"fas fa-file-alt details-icon"})])],1):t._e(),t.isTaskDetailsShown?s("task-details",{attrs:{task:t.taskCopy,group:t.group,isTaskDetailsShown:t.isTaskDetailsShown}}):t._e()],1)}),kr=[],Cr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"task-details-container"},[t.isShown?s("section",{staticClass:"task-details flex column"},[s("div",{staticClass:"details-header"},[s("h4",[t._v(t._s(t.task.txt))]),s("span",[t._v("In "),s("i",{staticClass:"fal fa-arrow-right"}),t._v(" "+t._s(t.board.name))])]),s("div",{staticClass:"detail-container"},[t._m(0),s("span",{staticClass:"content group",style:t.groupColor},[s("i",{staticClass:"fas fa-circle point-icon detail-icon",style:t.groupColor}),t._v(t._s(t.group.name))])]),t._m(1),s("div",{staticClass:"detail-container"},[t._m(2),s("span",{staticClass:"content",style:t.statusColor},[t._v(t._s(t.task.status.txt))])]),t.task.dueDate?s("div",{staticClass:"detail-container"},[t._m(3),s("span",{staticClass:"content"},[t._v(t._s(t.getTime(t.task.dueDate)))])]):t._e(),s("button",{staticClass:"cls-btn",on:{click:function(e){return e.stopPropagation(),t.closeTaskDetails(e)}}},[t._v("X")])]):t._e(),t.isShown?s("div",{staticClass:"back-drop-layer-details",on:{click:function(e){t.isShown=!1}}}):t._e()])},xr=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"fas fa-circle point-icon detail-icon"}),t._v("Group")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-container"},[s("span",[s("i",{staticClass:"far fa-user-circle  detail-icon"}),t._v(" Person")]),s("span",{staticClass:"content"},[s("i",{staticClass:"fal fa-users"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"fas fa-stream detail-icon"}),t._v(" Status")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"fal fa-calendar-day detail-icon"}),t._v(" Date")])}],wr={props:{task:Object,isTaskDetailsShown:Boolean,group:Object},data:function(){return{isShown:!1}},computed:{statusColor:function(){return"backgroundColor: ".concat(this.task.status.color,";")},groupColor:function(){return"color: ".concat(this.group.color,";")},board:function(){return this.$store.getters.board}},methods:{getTime:function(t){return k()(t).format("LL")},closeTaskDetails:function(){this.isShown=!1}},created:function(){this.isShown=this.isTaskDetailsShown}},_r=wr,Br=Object(m["a"])(_r,Cr,xr,!1,null,null,null),$r=Br.exports,Sr={name:"task-preview",components:{Avatar:T,taskDetails:$r},props:{task:Object,group:Object},data:function(){return{isTaskDetailsShown:!1,isHovering:!1}},computed:{user:function(){return this.$store.getters.user}},methods:{hideBtns:function(){this.isHovering=!1},showBtns:function(){this.isHovering=!0},deleteTask:function(){this.$emit("deleteTask",this.taskCopy)},updateTaskTxt:function(t){t.target.blur(),t.target.innerText!==this.taskCopy.txt&&(this.taskCopy.txt=t.target.innerText,this.$notify({message:"Task txt updated",position:"bottom-left",duration:2e3}),this.$emit("updateTask",this.taskCopy))},openTaskDetails:function(){this.isTaskDetailsShown=!0}},created:function(){this.taskCopy=this.task}},Tr=Sr,jr=Object(m["a"])(Tr,yr,kr,!1,null,null,null),Ar=jr.exports,Er={name:"statues-preview",props:{status:Object,group:Object},data:function(){return{txt:"",isAddBtnShown:!1,cloneTasks:null}},computed:{board:function(){return this.$store.getters.board},onFocousBgc:function(){return this.isAddBtnShown?"background-color:white;":""}},methods:{updateTaskStatus:function(t){var e=t.added;if(e){var s=e.newIndex,r=s,a=this.status.tasks[r];a.status.color=this.status.color,a.status.txt=this.status.txt,this.updateTask(a)}},deleteTask:function(t){var e=this.board.groups.find((function(e){return e.id===t.groupId})),s=e.tasks.findIndex((function(e){return e.id===t.id}));e.tasks.splice(s,1),lt.$emit("updateGroup",e)},updateTask:function(t){var e=this.board.groups.find((function(e){return e.id===t.groupId})),s=e.tasks.findIndex((function(e){return e.id===t.id}));e.tasks.splice(s,1,t),lt.$emit("updateGroup",e)},focusInput:function(){this.isAddBtnShown=!0},unFocusInput:function(){this.isAddBtnShown=!1},addTask:function(){var t=se.getEmptyTask();t.status.color=this.status.color,t.status.txt=this.status.txt,t.txt=this.txt,this.group.tasks.unshift(t),lt.$emit("updateGroup",this.group),this.isAddBtnShown=!1,this.txt=""}},created:function(){this.groupCopy=this.group,this.cloneTasks=this.status.tasks},components:{taskPreview:Ar,draggable:as.a}},Nr=Er,Ir=Object(m["a"])(Nr,vr,br,!1,null,null,null),Ur=Ir.exports,Or={props:{statuses:Array,group:Object},data:function(){return{clonedStatuses:null}},created:function(){this.clonedStatuses=this.statuses},components:{statusPreview:Ur,draggable:as.a}},Mr=Or,Rr=Object(m["a"])(Mr,hr,gr,!1,null,null,null),Pr=Rr.exports,Dr={name:"Trello-mode",data:function(){return{group:null}},computed:{tasksByStatues:function(){return JSON.parse(JSON.stringify(this.$store.getters.tasksByStatues))},board:function(){return this.$store.getters.board}},components:{statusList:Pr},created:function(){var t=this.board.groups[this.board.groups.length-1];this.group=t}},Gr=Dr,Fr=Object(m["a"])(Gr,fr,mr,!1,null,null,null),Lr=Fr.exports,Jr={name:"board-app",data:function(){return{isChatingBtnShown:!0,isChating:!1,isListExpanded:!0,isMembersShowen:!1,currTaskDetails:null,isTaskDetailsHover:!1,componentKey:0}},computed:{darkMode:function(){return this.$store.getters.getDarkModeToggle},displayMode:function(){return this.$store.getters.displayMode},btnClassExpend:function(){return this.isListExpanded?"expend-btn fas fa-chevron-left":"expend-btn fas fa-chevron-right"},chatControl:function(){return this.isChatingBtnShown?"Hide Chat":"Show Chat"},user:function(){return this.$store.getters.user},miniUser:function(){return this.$store.getters.miniUser},board:function(){return this.$store.getters.board},boards:function(){return this.$store.getters.boards}},methods:{setDisplayMode:function(t){this.$store.commit({type:"setDisplayMode",displayMode:t})},toogleChatBtn:function(){this.isChatingBtnShown=!this.isChatingBtnShown},expandList:function(){this.isListExpanded=!0},toggleExpandList:function(){this.isListExpanded=!this.isListExpanded},toggleChat:function(){this.isChating=!this.isChating},duplicateGroup:function(t){t.id=ee.makeId(),this.board.groups.push(t);var e="".concat(this.user.fullName," duplicated group the group ").concat(t.name," "),s=se.getEmptyActivity(e,this.miniUser);this.board.activities.push(s),this.$store.dispatch({type:"saveBoard",board:this.board}),this.$store.dispatch({type:"updateBoard",board:this.board}),this.forceRerender()},updateBoardName:function(t){if(t.target.blur(),t.target.innerText!==this.board.name){this.board.name=t.target.innerText;var e="".concat(this.user.fullName," update Board name"),s=se.getEmptyActivity(e,this.miniUser);this.board.activities.push(s),this.$store.dispatch({type:"saveBoard",board:this.board}),this.$store.dispatch({type:"updateBoard",board:this.board}),this.$notify({message:"Board name updated",position:"bottom-left",duration:2e3}),this.forceRerender()}},updateBoardDesc:function(t){if(t.target.blur(),t.target.innerText!==this.board.description){this.board.description=t.target.innerText;var e="".concat(this.user.fullName," update Board description"),s=se.getEmptyActivity(e,this.miniUser);this.board.activities.push(s),this.$store.dispatch({type:"saveBoard",board:this.board}),this.$notify({message:"Board description updated",position:"bottom-left",duration:2e3}),this.forceRerender()}},forceRerender:function(){this.componentKey+=1},addBoardMember:function(t){this.board.members.unshift(t);var e="".concat(this.user.fullName," add ").concat(t.fullName," to Board"),s=se.getEmptyActivity(e,this.miniUser);this.board.activities.push(s),this.$store.dispatch({type:"saveBoard",board:this.board}),this.$notify({message:"New member added to board",position:"bottom-left",duration:2e3})},removeBoardMember:function(t){var e=this.board.members.findIndex((function(e){return e._id===t._id}));this.board.members.splice(e,1);var s="".concat(this.user.fullName," remove  ").concat(t.fullName," from Board"),r=se.getEmptyActivity(s,this.miniUser);this.board.activities.push(r),this.$store.dispatch({type:"saveBoard",board:this.board}),this.$notify({message:"Member removed from board",position:"bottom-left",duration:2e3})},setSearch:function(t){this.$store.commit({type:"setSearch",searchBoard:t}),this.$store.dispatch({type:"loadBoards"})},removeCurrBoard:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function s(){var r,a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(s.prev=0,r=se.getById(),r.creator._id===e.user_id){s.next=4;break}return s.abrupt("return");case 4:return s.next=6,e.$confirm("This will permanently delete the board. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"});case 6:a="".concat(e.user.fullName," remove Board"),i=se.getEmptyActivity(a,e.miniUser),e.board.activities.push(i),e.$store.dispatch({type:"removeBoard",boardId:t}),e.$store.dispatch({type:"loadAllBoards",boards:e.boards}),e.$notify({message:"Board deleted",position:"bottom-left",duration:2e3}),e.$message({type:"success",message:"Delete completed"}),s.next=18;break;case 15:s.prev=15,s.t0=s["catch"](0),e.$message({durtion:2e3,showClose:!0,type:"error",offset:335,message:"Only the creator can delete the board!"});case 18:case"end":return s.stop()}}),s,null,[[0,15]])})))()},loadBoards:function(){this.$store.dispatch({type:"loadBoards"}),this.forceRerender()},addBoard:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var s,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$prompt("Please enter a name to your board","Add New Board",{confirmButtonText:"OK",cancelButtonText:"Cancel"});case 3:s=e.sent,r=se.getEmptyBoard(),r.name=s.value,r.creator=t.miniUser,r.members.push(t.miniUser),a="".concat(t.miniUser.fullName," create this Board"),i=se.getEmptyActivity(a,t.miniUser),t.board.activities.push(i),t.$store.dispatch({type:"saveBoard",board:r}),t.$message({type:"success",duration:2500,message:"Your Board:"+s.value+" add "}),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),t.$message({type:"info",duration:2500,message:"Your action canceled"});case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()},loadBoard:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch({type:"loadBoard",boardId:t.$route.params.boardId});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log("Erororor!!");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},addGroup:function(){var t=se.getEmptyGroup();this.board.groups.push(t);var e="".concat(this.user.fullName," has added a new group!"),s=se.getEmptyActivity(e,this.miniUser);this.board.activities.push(s),this.$store.dispatch({type:"saveBoard",board:this.board}),this.$notify({message:"New group added",position:"bottom-left",duration:2e3}),this.forceRerender()},deleteGroup:function(t){var e=this.board.groups.findIndex((function(e){return e.id===t})),s="".concat(this.user.fullName," deleted group ").concat(this.board.groups[e].txt);this.board.groups.splice(e,1);var r=se.getEmptyActivity(s,this.miniUser);this.board.activities.push(r),this.$store.dispatch({type:"saveBoard",board:this.board}),this.$notify({message:"Group deleted",position:"bottom-left",duration:2e3}),this.forceRerender()},updateGroup:function(t){var e=this.board.groups.findIndex((function(e){return e.id===t.id}));if(!(e<0)){this.board.groups.splice(e,1,t);var s="".concat(this.user.fullName," updated group ").concat(t.name),r=se.getEmptyActivity(s,this.miniUser);this.board.activities.push(r),this.$store.dispatch({type:"saveBoard",board:this.board}),this.$notify({message:"Group updated",position:"bottom-left",duration:2e3}),this.forceRerender()}},updateGroups:function(t){this.board.groups=t;var e="".concat(this.user.fullName," updated the groups"),s=se.getEmptyActivity(e,this.miniUser);this.board.activities.push(s),this.$store.dispatch({type:"saveBoard",board:this.board}),this.$notify({message:"Groups updated",position:"bottom-left",duration:2e3}),this.forceRerender()}},watch:{"$route.params.boardId":function(){this.loadBoard(),this.forceRerender()}},created:function(){this.$store.dispatch({type:"createPrivateSocket"}),this.$store.dispatch({type:"loadUsers"}),this.loadBoards(),this.loadBoard(),lt.$on("updateGroup",this.updateGroup),lt.$on("forceRerender",this.forceRerender)},destroyed:function(){},components:{groupList:xs,boardList:Ts,boardSearch:Ms,chatApp:_t,boardHeader:pr,trelloMode:Lr}},Hr=Jr,zr=Object(m["a"])(Hr,ot,ct,!1,null,null,null),Kr=zr.exports,Yr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loggedInUser&&t.user?r("section",{staticClass:"user-details flex column"},[r("section",{staticClass:"header-user-profile flex column justify-center align-center"},[r("div",{staticClass:"img-profile-container flex align-center"},[r("avatar",{attrs:{user:t.user,size:120,className:"img-profile"}})],1),r("h3",{staticClass:"mail"},[t._v(t._s(t.user.email))])]),r("el-tabs",[r("el-tab-pane",{attrs:{label:"User Details"}},[r("about-user",{attrs:{user:t.user}})],1),t.userLogin?r("el-tab-pane",{attrs:{label:"Edit Profile"}},[t.userLogin?r("edit-user",{attrs:{user:t.user},on:{loadUser:t.setLogingUser}}):t._e()],1):t._e()],1)],1):r("div",{staticClass:"flex justify-center align-center"},[r("img",{staticClass:"loader-app",attrs:{src:s("ebb8")}})])},qr=[],Wr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"user-content flex justify-center"},[s("div",{staticClass:"user-details-info flex column wrap"},[s("h3",[t._m(0),s("strong",{staticClass:"title-details"},[t._v("Full name:")]),t._v(t._s(t.user.fullName)+" ")]),s("h3",[t._m(1),s("strong",{staticClass:"title-details"},[t._v("Email:")]),t._v(t._s(t.user.email)+" ")]),s("h3",[t._m(2),s("strong",{staticClass:"title-details"},[t._v("Phone:")]),t._v(t._s(t.Phone)+" ")]),s("h3",[t._m(3),s("strong",{staticClass:"title-details"},[t._v("Address:")]),t._v(t._s(t.address)+" ")]),s("h3",[t._m(4),s("strong",{staticClass:"title-details"},[t._v("Company name:")]),t._v(t._s(t.companyName)+" ")])])])},Xr=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon-container"},[s("i",{staticClass:"icon-user fas fa-user"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon-container"},[s("i",{staticClass:"icon-user fas fa-envelope"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon-container"},[s("i",{staticClass:"icon-user fas fa-phone"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon-container"},[s("i",{staticClass:"icon-user far fa-address-card"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon-container"},[s("i",{staticClass:"icon-user far fa-building"})])}],Qr={name:"about-user",props:{user:Object},computed:{Phone:function(){return this.user.phone?this.user.phone:"You didnt add a phone number"},address:function(){return this.user.address?this.user.address:"You didnt add a address yet"},companyName:function(){return this.user.companyName?this.user.companyName:"You didnt add a Company name yet"}}},Vr=Qr,Zr=Object(m["a"])(Vr,Wr,Xr,!1,null,null,null),ta=Zr.exports,ea=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"user-editor flex justify-center align-center"},[s("form",{staticClass:"form-editor flex column",on:{submit:t.saveDetails}},[s("label",{attrs:{for:""}},[t._v("Email:")]),s("el-input",{attrs:{placeholder:"Email",disabled:!0},model:{value:t.userToEdit.email,callback:function(e){t.$set(t.userToEdit,"email",e)},expression:"userToEdit.email"}}),s("label",{attrs:{for:""}},[t._v("Name:")]),s("el-input",{attrs:{placeholder:"Name"},model:{value:t.userToEdit.fullName,callback:function(e){t.$set(t.userToEdit,"fullName",e)},expression:"userToEdit.fullName"}}),s("label",{attrs:{for:""}},[t._v("Phone:")]),s("el-input",{attrs:{placeholder:"Phone"},model:{value:t.userToEdit.phone,callback:function(e){t.$set(t.userToEdit,"phone","string"===typeof e?e.trim():e)},expression:"userToEdit.phone"}}),s("label",{attrs:{for:""}},[t._v("Address:")]),s("el-input",{attrs:{placeholder:"Address"},model:{value:t.userToEdit.address,callback:function(e){t.$set(t.userToEdit,"address","string"===typeof e?e.trim():e)},expression:"userToEdit.address"}}),s("label",{attrs:{for:""}},[t._v("Company name:")]),s("el-input",{attrs:{placeholder:"Company name"},model:{value:t.userToEdit.companyName,callback:function(e){t.$set(t.userToEdit,"companyName","string"===typeof e?e.trim():e)},expression:"userToEdit.companyName"}}),s("button",{staticStyle:{color:"white"},attrs:{type:"submit"}},[t._v("Save Changes")])],1),s("upload-img",{attrs:{isUserDetails:!0},on:{sendImgUrl:t.imgUrl}},[t.userToEdit.imgUrl?s("img",{staticClass:"img-uploaded-user-editor",attrs:{src:t.userToEdit.imgUrl,alt:"image"}}):t._e()])],1)},sa=[],ra=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{class:{"upload-image-container":!0,"user-editor":t.isUserDetails}},[t.isLoading?r("img",{staticClass:"img-loader",attrs:{src:s("ebb8")}}):r("div",{class:{"container-img flex column":!0,"user-editor":t.isUserDetails}},[r("label",{class:{"label-img":!0,"user-editor":t.isUserDetails},attrs:{for:"imgUploader"}},[r("div",{staticClass:"white btn-upload-container"},[t._t("btn-upload",[r("i",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:"Upload Image",expression:"'Upload Image'",modifiers:{top:!0}}],class:{"fad fa-upload upload-icon":!0,"user-editor":t.isUserDetails}})])],2),r("input",{attrs:{type:"file",id:"imgUploader"},on:{change:t.onUploadImg}})]),t._t("imgUrl",[t.imgUrl?r("img",{staticClass:"img-uploaded",attrs:{src:t.imgUrl,alt:"image"}}):t._e()])],2)])},aa=[],ia=function(){var t=Object(st["a"])(regeneratorRuntime.mark((function t(e){var s,r,a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="iq3vux0y",r="mstoysguy",a="https://api.cloudinary.com/v1_1/".concat(r,"/image/upload"),i=new FormData,i.append("file",e.target.files[0]),i.append("upload_preset",s),t.prev=6,t.next=9,Gt.a.post(a,i);case 9:return n=t.sent,t.abrupt("return",n.data);case 13:t.prev=13,t.t0=t["catch"](6),console.error("Failed to upload img ",t.t0);case 16:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}(),na={props:{isUserDetails:Boolean},data:function(){return{isLoading:!1,imgUrl:null}},methods:{onUploadImg:function(t){var e=this;return Object(st["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.isLoading=!0,s.next=3,ia(t);case 3:r=s.sent,e.imgUrl=r.url,e.$emit("sendImgUrl",e.imgUrl),e.isLoading=!1;case 7:case"end":return s.stop()}}),s)})))()}}},oa=na,ca=Object(m["a"])(oa,ra,aa,!1,null,null,null),ua=ca.exports,la={name:"user-editor",props:{user:Object},data:function(){return{userToEdit:null,isLoading:!1}},methods:{imgUrl:function(t){this.userToEdit.imgUrl=t},saveDetails:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=JSON.parse(JSON.stringify(t.userToEdit)),e.next=3,t.$store.dispatch({type:"updateUser",user:s});case 3:r=e.sent,t.$store.commit({type:"setUser",user:r}),t.$emit("loadUser"),t.$notify({message:"The Details updated",position:"bottom-left",duration:2e3});case 7:case"end":return e.stop()}}),e)})))()}},created:function(){this.userToEdit=JSON.parse(JSON.stringify(this.user))},components:{uploadImg:ua}},da=la,pa=Object(m["a"])(da,ea,sa,!1,null,null,null),fa=pa.exports,ma={name:"user-details",data:function(){return{user:null}},computed:{userLogin:function(){var t=this.$route.params.userId;return this.loggedInUser._id===t},isLoading:function(){return this.$store.getters.isLoading},loggedInUser:function(){return this.$store.getters.user},users:function(){return this.$store.getters.miniUsers}},methods:{getUserById:function(t){var e=this.users.find((function(e){return e._id===t}));return e},setLogingUser:function(){this.user=this.loggedInUser}},created:function(){var t=this.$route.params.userId;if(this.loggedInUser)if(this.loggedInUser._id===t)this.user=this.loggedInUser;else{var e=this.getUserById(t);this.user=e}else this.$router.push("/")},components:{Avatar:T,aboutUser:ta,editUser:fa}},ha=ma,ga=Object(m["a"])(ha,Yr,qr,!1,null,null,null),va=ga.exports,ba=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"app-login-container"},[r("div",{staticClass:"login-header"},[r("router-link",{attrs:{to:"/"}},[r("img",{staticClass:"logo2 flex end",attrs:{src:s("a334"),alt:""}})])],1),r("section",{staticClass:"app-login flex column"},[r("div",{staticClass:"flex column justify-center"},[t._m(0),r("form",{staticClass:"flex column justify-center align-center",on:{submit:function(e){return e.preventDefault(),t.submitLogin(e)}}},[r("el-input",{attrs:{type:"text",placeholder:"Email",disabled:t.isElementDisabled},model:{value:t.loginCredentials.email,callback:function(e){t.$set(t.loginCredentials,"email",e)},expression:"loginCredentials.email"}}),r("el-input",{attrs:{type:"password",placeholder:"Password",disabled:t.isElementDisabled},model:{value:t.loginCredentials.password,callback:function(e){t.$set(t.loginCredentials,"password",e)},expression:"loginCredentials.password"}}),r("button",{staticClass:"login-btn",attrs:{disabled:t.isElementDisabled}},[t._v("Login")])],1),r("div",{staticClass:"signup-section flex align-center"},[r("span",{staticClass:"separator-line"}),r("div",{staticClass:"login-subtitle flex align-center justify-center"},[t._v(" Don't have a user yet? "),r("router-link",{attrs:{to:"/signup"}},[r("span",{staticClass:"btn-content"},[t._v(" Signup")])])],1),r("span",{staticClass:"separator-line"})])])])])},ya=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",{staticClass:"login-title"},[t._v("Log "),s("span",{staticClass:"thin-fonted"},[t._v("In")])])}],ka={name:"app-login",data:function(){return{loginCredentials:{email:null,password:null,isAdmin:!1},isElementDisabled:!1,googleSignInParams:{clientId:"362174628097-alt6tonjakiq40pcm6i9rno28997rgfh.apps.googleusercontent.com"}}},computed:{defaultBoardId:function(){return this.$store.getters.defaultBoardId}},created:function(){},methods:{submitLogin:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=JSON.parse(JSON.stringify(t.loginCredentials)),e.prev=1,e.next=4,t.$store.dispatch({type:"login",userCred:s});case 4:if(r=e.sent,!r){e.next=11;break}return t.isElementDisabled=!0,e.next=9,t.$store.dispatch({type:"loadBoards"});case 9:t.$message({duration:2e3,showClose:!0,type:"success",offset:335,message:"You've sucessfully logged in!"}),setTimeout((function(){t.$router.push("/board/".concat(t.defaultBoardId))}),2e3);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),401===e.t0.response.status&&t.$message({durtion:2e3,showClose:!0,type:"error",offset:335,message:"Incorrect email or password."});case 16:t.loginCredentials={email:null,password:null,isAdmin:!1};case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))()}}},Ca=ka,xa=Object(m["a"])(Ca,ba,ya,!1,null,null,null),wa=xa.exports,_a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"app-signup-container sign-up-container"},[r("div",{staticClass:"signup-header login-header"},[r("router-link",{attrs:{to:"/"}},[r("img",{staticClass:"logo2 flex end",attrs:{src:s("a334"),alt:""}})])],1),r("section",{staticClass:"app-signup flex column"},[r("div",{staticClass:"flex column justify-center"},[t._m(0),r("form",{staticClass:"flex column justify-center align-center",on:{submit:function(e){return e.preventDefault(),t.submitSignup(e)}}},[r("el-input",{attrs:{type:"text",placeholder:"Full Name",required:"",disabled:t.isElementDisabled},model:{value:t.signupCredentials.fullName,callback:function(e){t.$set(t.signupCredentials,"fullName",e)},expression:"signupCredentials.fullName"}}),r("el-input",{attrs:{type:"text",placeholder:"Email",required:"",disabled:t.isElementDisabled},model:{value:t.signupCredentials.email,callback:function(e){t.$set(t.signupCredentials,"email",e)},expression:"signupCredentials.email"}}),r("el-input",{attrs:{type:"password",placeholder:"Password",required:"",disabled:t.isElementDisabled},model:{value:t.signupCredentials.password,callback:function(e){t.$set(t.signupCredentials,"password",e)},expression:"signupCredentials.password"}}),r("button",{staticClass:"signup-btn",attrs:{disabled:t.isElementDisabled}},[t._v(" Sign up ")])],1),r("div",{staticClass:"signup-section flex align-center"},[r("span",{staticClass:"separator-line"}),r("div",{staticClass:"signup-subtitle flex align-center justify-center"},[t._v(" Already have a user? "),r("router-link",{attrs:{to:"/login"}},[r("span",{staticClass:"btn-content"},[t._v(" Login")])])],1),r("span",{staticClass:"separator-line"})])])])])},Ba=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"signup-title"},[t._v(" Sign "),s("span",{staticClass:"thin-fonted"},[t._v("Up")])])}],$a={name:"app-signup",data:function(){return{signupCredentials:{fullName:null,email:null,password:null,isAdmin:!1},isElementDisabled:!1}},computed:{},methods:{submitSignup:function(){var t=this;return Object(st["a"])(regeneratorRuntime.mark((function e(){var s,r,a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isElementDisabled=!0,s=JSON.parse(JSON.stringify(t.signupCredentials)),e.next=4,t.$store.dispatch({type:"signup",userCred:s});case 4:return r=e.sent,t.signupCredentials={email:null,password:null,fullName:null,isAdmin:!1},a=se.getEmptyBoard(),i=JSON.parse(JSON.stringify(r)),delete i.isAdmin,delete i.notifications,a.creator=i,a.members.push(i),e.next=14,t.$store.dispatch({type:"saveBoard",board:a});case 14:n=e.sent,t.$message({duration:2e3,showClose:!0,type:"success",offset:335,message:"You've sucessfully signed up!"}),setTimeout((function(){t.$router.push("/board/".concat(n))}),2e3);case 17:case"end":return e.stop()}}),e)})))()}}},Sa=$a,Ta=Object(m["a"])(Sa,_a,Ba,!1,null,null,null),ja=Ta.exports,Aa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("side-bar",{on:{closeBtn:t.closeBtn}},[t.task?s("section",{staticClass:"task-details-section"},[s("div",{staticClass:"task-title-container"},[s("h2",{staticClass:"task-title editable",attrs:{spellcheck:"false",contenteditable:""},on:{blur:function(e){return e.stopPropagation(),t.updateTaskTxt(e)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateTaskTxt(e)}}},[t._v(" "+t._s(t.task.txt)+" ")])]),s("el-tabs",[s("el-tab-pane",{attrs:{label:"Task Posts"}},[t.posts?s("task-posts",{attrs:{task:t.task,posts:t.posts},on:{updatePosts:t.updatePosts,deletePost:t.deletePost}}):t._e()],1),s("el-tab-pane",{attrs:{label:"Task Activities"}},[t.taskActivities&&t.taskActivities.length?s("task-activities",{attrs:{activities:t.taskActivities}}):t._e()],1)],1)],1):t._e()])},Ea=[],Na=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"side-bar-nav"},[s("section",{class:{"side-bar-board-app":!0,expanded:t.isExpanded}},[s("button",{staticClass:"cls-btn close-btn "},[s("i",{staticClass:"cls-icon fas fa-times",on:{click:function(e){return e.stopPropagation(),t.closeBtn(e)}}})]),s("div",[t._t("default")],2)]),s("div",{staticClass:"backdrop-layer",on:{click:t.closeBtn}})])},Ia=[],Ua={props:{isExpanded:Boolean},methods:{closeBtn:function(){this.$emit("closeBtn")}}},Oa=Ua,Ma=Object(m["a"])(Oa,Na,Ia,!1,null,null,null),Ra=Ma.exports,Pa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"task-posts relative"},[s("form",{staticClass:"task-post-form relative",on:{submit:function(e){return e.preventDefault(),t.addPost(e)}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newPost,expression:"newPost"}],staticClass:"el-input-text-editor",attrs:{rows:"3",placeholder:"Write a massge..."},domProps:{value:t.newPost},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.addPost(e))},input:function(e){e.target.composing||(t.newPost=e.target.value)}}}),t._v(" "),s("upload-img",{on:{sendImgUrl:t.imgUrl}}),s("button",{staticClass:"post-btn"},[t._v("Post")])],1),s("ul",{staticClass:"posts-list clean-list flex column align-center"},t._l(t.copiedPosts,(function(e){return s("li",{key:e.id,staticClass:"task-post-card relative",on:{mouseover:function(s){return t.setHoveredPost(e.id)},mouseleave:function(e){t.isHovering=!1}}},[s("div",{staticClass:"user-info-container flex space-between"},[s("div",{staticClass:"flex align-center"},[s("avatar",{attrs:{user:e.byUser}}),e.byUser?s("span",{staticClass:"by-user"},[t._v(t._s(e.byUser.fullName))]):t._e()],1),s("h5",[s("i",{staticClass:"far fa-clock"}),t._v(" "+t._s(t.getTime(e.createdAt))+" ")])]),s("el-divider"),s("div",{staticClass:"task-post-container flex space-between"},[s("span",[t._v(t._s(e.txt))]),e.imgUrl?s("img",{staticClass:"uploaded-img",attrs:{src:e.imgUrl}}):t._e()]),t.isHovering&&t.hoveredPostId===e.id?s("button",{staticClass:"delete-post-btn",on:{click:function(s){return t.deletePost(e.id)}}},[s("i",{staticClass:"fal fa-trash"})]):t._e()],1)})),0)])},Da=[],Ga={name:"task-posts",props:{posts:{type:Array},task:Object},computed:{user:function(){return this.$store.getters.user},miniUser:function(){return this.$store.getters.miniUser}},data:function(){return{newPost:null,copiedPosts:null,componentKey:0,img:null,hoveredPostId:null,isHovering:!1}},created:function(){this.copiedPosts=JSON.parse(JSON.stringify(this.posts))},methods:{setHoveredPost:function(t){this.isHovering=!0,this.hoveredPostId=t},imgUrl:function(t){this.img=t},getTime:function(t){return k()(t).fromNow()},deletePost:function(t){this.$emit("deletePost",t)},addPost:function(){if(this.newPost){var t=se.getEmptyPost();t.txt=this.newPost,t.byUser=this.user,t.imgUrl=this.img,this.copiedPosts.unshift(t);var e="".concat(this.user.fullName," added new post on task: ").concat(this.task.txt," "),s=se.getEmptyActivity(e,this.miniUser);s.taskId=this.task.id,this.$emit("updatePosts",this.copiedPosts,s),this.newPost="",this.$notify({message:"New post published",position:"bottom-left",duration:2e3})}}},components:{Avatar:T,uploadImg:ua},watch:{"$route.params.taskId":function(){this.copiedPosts=this.posts}}},Fa=Ga,La=Object(m["a"])(Fa,Pa,Da,!1,null,null,null),Ja=La.exports,Ha=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.activities&&t.activities.length?s("ul",{staticClass:"task-activities"},t._l(t.activities,(function(e){return s("li",{key:e.id,staticClass:"activity flex space-between align-center relative",on:{mouseover:function(s){return t.setHoveredActivity(e.id)},mouseleave:function(e){t.isActHovering=!1}}},[t.isActHovering&&t.hoveredActId===e.id?s("button",{staticClass:"delete-activity-btn",on:{click:function(s){return t.deleteActivity(e.id)}}},[t._v(" X ")]):t._e(),s("section",{staticClass:"activity-details flex align-center"},[e.byUser?s("div",{staticClass:"user-avatar",on:{mouseenter:function(e){t.isHovering=!0},mouseleave:function(e){t.isHovering=!1}}},[s("avatar",{attrs:{user:e.byUser}})],1):t._e(),s("span",{staticClass:"activity-txt"},[t._v(" "+t._s(e.txt))])]),s("div",{staticClass:"activity-date flex end"},[s("h6",[s("i",{staticClass:"far fa-clock"}),t._v(" "+t._s(t.getTime(e.createdAt)))])])])})),0):t._e()},za=[],Ka={name:"task-activities",props:{activities:{type:Array}},data:function(){return{isHovering:!1,isActHovering:!1,hoveredActId:null}},methods:{getTime:function(t){return k()(t).fromNow()},deleteActivity:function(t){this.$emit("deleteActivity",t)},setHoveredActivity:function(t){this.isActHovering=!0,this.hoveredActId=t}},components:{Avatar:T},created:function(){}},Ya=Ka,qa=Object(m["a"])(Ya,Ha,za,!1,null,null,null),Wa=qa.exports,Xa={name:"task-details",data:function(){return{task:null,groupId:null,componentKey:0,newPost:null}},created:function(){var t=this.getTaskInfoById();this.task=t.task,this.groupId=t.groupId},methods:{deletePost:function(t){console.log("here",t);var e=this.task.posts.findIndex((function(e){return e.id===t}));this.task.posts.splice(e,1),this.$store.dispatch({type:"saveBoard",board:this.board}),lt.$emit("forceRerender")},getStyleStr:function(t){return"backgroundColor:".concat(t)},closeBtn:function(){this.$router.push("/board/".concat(this.$route.params.boardId))},getTasksPath:function(){var t=this,e=this.board.groups.findIndex((function(e){return e.id===t.groupId})),s=this.board.groups[e].tasks;return s},updateTaskTxt:function(t){var e=this;if(t.target.blur(),t.target.innerText!==this.task.txt){this.task.txt=t.target.innerText;var s=this.getTasksPath(),r=s.findIndex((function(t){return t.id===e.task.id}));s.splice(r,1,this.task),this.$store.dispatch({type:"saveBoard",board:this.board}),lt.$emit("updateTaskPreview",this.task)}},updatePosts:function(t,e){var s=this,r=this.getTasksPath(),a=r.findIndex((function(t){return t.id===s.task.id}));r[a].posts=t,this.board.activities.unshift(e),this.$store.dispatch({type:"saveBoard",board:this.board}),lt.$emit("updateTaskPreview",this.task)},getTaskInfoById:function(){var t={},e=this.$route.params.taskId,s=this.board.groups.find((function(t){return t.tasks.find((function(t){return t.id===e}))}));return t.task=s.tasks.find((function(t){return t.id===e})),t.groupId=s.id,t},forceRerender:function(){this.componentKey+=1}},computed:{board:function(){return this.$store.getters.board},user:function(){return this.$store.getters.user},posts:function(){return this.task.posts},taskActivities:function(){var t=[],e=JSON.parse(JSON.stringify(this.$store.getters.boardActivities)),s=this.$route.params.taskId;return e.forEach((function(e){e.taskId===s&&t.push(e)})),t}},watch:{"$route.params.taskId":function(){var t=this.getTaskInfoById();this.groupId=t.groupId,this.task=JSON.parse(JSON.stringify(t.task))}},destroyed:function(){lt.$emit("updateTaskPreviewDestory",this.task)},components:{taskPosts:Ja,taskActivities:Wa,sideBar:Ra}},Qa=Xa,Va=Object(m["a"])(Qa,Aa,Ea,!1,null,null,null),Za=Va.exports,ti=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.boardActivitesToShow?s("section",{staticClass:"board-activities"},[s("side-bar",{on:{closeBtn:t.closeBtn}},[s("main",{staticClass:"main-container flex column wrap "},[s("div",{staticClass:"header-activites"},[s("h2",{staticClass:"title"},[t._v("Board Activities")]),s("h4",{staticClass:"activity-title"},[t._v(t._s(t.boardActivitesTitle))])]),s("div",{staticClass:"filter-container flex space-between"},[s("search-activity",{on:{searchBoard:t.setSearch}}),s("button",{staticClass:"delete-all-btn",on:{click:t.deleteActivities}},[t._v("Delete All")])],1),s("div",{staticClass:"activity-contianer"},[s("activites-board",{attrs:{activities:t.boardActivitesToShow},on:{deleteActivity:t.deleteActivity}})],1)])])],1):t._e()},ei=[],si=(s("caad"),s("2532"),{name:"board-activities",components:{sideBar:Ra,activitesBoard:Wa,searchActivity:Ms},data:function(){return{filterBy:null}},computed:{boardActivitesToShow:function(){var t=this,e=this.$store.getters.boardActivities;return this.filterBy?e.filter((function(e){return e.txt.toLowerCase().includes(t.filterBy.toLowerCase())})):e},boardActivitesTitle:function(){return this.boardActivitesToShow.length?this.boardActivitesToShow.length+" Activities on the Board":"Not have  activities yet.."},board:function(){return this.$store.getters.board}},methods:{deleteActivity:function(t){var e=this.board.activities.findIndex((function(e){return e.id===t}));this.board.activities.splice(e,1),this.$store.dispatch({type:"saveBoard",board:this.board})},deleteActivities:function(){this.board.activities=[],this.$store.dispatch({type:"saveBoard",board:this.board})},closeBtn:function(){this.$router.push("/board/".concat(this.$route.params.boardId))},setSearch:function(t){this.filterBy=t}}}),ri=si,ai=Object(m["a"])(ri,ti,ei,!1,null,null,null),ii=ai.exports,ni=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"user-calendar"},[s("h1",[t._v("Hello "+t._s(t.loggedinUser.fullName))])])},oi=[],ci={methods:{eventSelected:function(t){this.$router.push("/board/".concat(t.boardId,"/task/").concat(t.taskId))}},computed:{loggedinUser:function(){return this.$store.getters.user},boards:function(){return this.$store.getters.boards},events:function(){var t=[],e=k()().format("YYYY-MM-DD");return this.boards.forEach((function(s){s.groups.forEach((function(r){r.tasks.forEach((function(r){var a={title:"Task Name: "+r.txt,color:r.status.color,start:""==r.dueDate?e:r.dueDate.substring(0,16),allday:!(r.dueDate.length>13),boardId:s._id,taskId:r.id};t.push(a)}))}))})),t}},components:{}},ui=ci,li=Object(m["a"])(ui,ni,oi,!1,null,null,null),di=li.exports;r["default"].use(Z["a"]);var pi=[{path:"/",name:"homePage",component:nt},{path:"/login",name:"appLogin",component:wa},{path:"/signup",name:"appSignup",component:ja},{path:"/board/:boardId?/",name:"boardApp",component:Kr,children:[{path:"task/:taskId",component:Za},{path:"activities",component:ii}]},{path:"/user/:userId",name:"userDetails",component:va},{path:"/calendar",name:"userCalendar",component:di}],fi=new Z["a"]({mode:"hash",base:"/",routes:pi}),mi=fi,hi=s("2f62"),gi=(s("45fc"),s("07ac"),s("5530")),vi={state:{boards:[],currBoard:null,searchBoard:null,filterBy:{status:"All",priority:"All",person:"All",searchTerm:""},darkMode:!1,displayMode:"Board"},getters:{displayMode:function(t){return t.displayMode},boards:function(t){if(!t.searchBoard)return t.boards;if(t.searchBoard&&null!==t.boards){var e=t.boards.filter((function(e){return e.name.toLowerCase().includes(t.searchBoard.toLowerCase())}));return e}},board:function(t){var e=t.filterBy,s=JSON.parse(JSON.stringify(t.currBoard));return"All"!==e.status&&(s.groups.filter((function(t){t.tasks=t.tasks.filter((function(t){return t.status.txt===e.status}))})),s.groups=s.groups.filter((function(t){return 0!==t.tasks.length}))),"All"!==e.priority&&(s.groups.forEach((function(t){t.tasks=t.tasks.filter((function(t){return t.priority.txt===e.priority}))})),s.groups=s.groups.filter((function(t){return 0!==t.tasks.length}))),"All"!==e.person&&s.groups.forEach((function(t){t.tasks=t.tasks.filter((function(t){if(t.members.some((function(t){return t._id===e.person})))return t}))})),""!==e.searchTerm&&(s.groups.forEach((function(t){t.tasks=t.tasks.filter((function(t){return t.txt.toLowerCase().includes(e.searchTerm.toLowerCase())}))})),s.groups=s.groups.filter((function(t){return 0!==t.tasks.length}))),s},defaultBoardId:function(t){return t.boards[0]._id},filterBy:function(t){return JSON.parse(JSON.stringify(t.filterBy))},boardActivities:function(t){return t.currBoard.activities},getDarkModeToggle:function(t){var e=t.darkMode;return{darkMode:e,"":!e}},tasksByStatues:function(t){var e=t.currBoard.statuses.reduce((function(t,e){return t[Ns.a.camelCase(e.txt)]={id:e.id,color:e.color,txt:e.txt,tasks:[]},t}),{}),s=t.currBoard.groups;s.forEach((function(t){t.tasks.forEach((function(s){var r=Ns.a.camelCase(s.status.txt);for(var a in e)if(a===r){var i=Object(gi["a"])(Object(gi["a"])({},s),{},{groupName:t.name,groupId:t.id});e[a].tasks.push(i)}}))}));var r=Object.values(e);return r}},mutations:{setBoardById:function(t,e){var s=e.board,r=t.boards.findIndex((function(t){return t._id===s._id}));t.boards.splice(r,1,s),s._id===t.currBoard._id&&(t.currBoard=s)},setDisplayMode:function(t,e){var s=e.displayMode;t.displayMode=s},darkMode:function(t,e){var s=e.darkMode;t.darkMode=s},setBoards:function(t,e){var s=e.boards;t.boards=s},setBoard:function(t,e){var s=e.board;t.currBoard=s},removeBoard:function(t,e){var s=e.boardId;t.boards=t.boards.filter((function(t){return t._id!==s}))},setSearch:function(t,e){var s=e.searchBoard;t.searchBoard=s},setFilterBy:function(t,e){var s=e.filterBy;t.filterBy=s}},actions:{loadBoards:function(t){return Object(st["a"])(regeneratorRuntime.mark((function e(){var s,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,r=t.rootGetters,a=r.user._id,e.prev=2,e.next=5,se.query(a);case 5:i=e.sent,s({type:"setBoards",boards:i}),e.next=13;break;case 9:throw e.prev=9,e.t0=e["catch"](2),console.log("ERROR: cant loads boards",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))()},loadBoard:function(t,e){return Object(st["a"])(regeneratorRuntime.mark((function s(){var r,a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=e.boardId,r({type:"setBoard",board:null}),console.log("board: set board"),s.prev=4,s.next=7,se.getById(a);case 7:i=s.sent,r({type:"setBoard",board:i}),s.next=16;break;case 11:throw s.prev=11,s.t0=s["catch"](4),console.log("no loaded"),console.log("ERROR: cant load board",s.t0),s.t0;case 16:case"end":return s.stop()}}),s,null,[[4,11]])})))()},removeBoard:function(t,e){return Object(st["a"])(regeneratorRuntime.mark((function s(){var r,a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(r=t.commit,a=t.state,i=e.boardId,!(a.boards.length<=1)){s.next=4;break}return s.abrupt("return");case 4:return s.prev=4,s.next=7,se.remove(i);case 7:r({type:"removeBoard",boardId:i}),s.next=14;break;case 10:throw s.prev=10,s.t0=s["catch"](4),console.log("ERROR: cant remove board",s.t0),s.t0;case 14:case"end":return s.stop()}}),s,null,[[4,10]])})))()},saveBoard:function(t,e){return Object(st["a"])(regeneratorRuntime.mark((function s(){var r,a,i,n,o,c,u;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=t.dispatch,i=t.rootGetters,n=e.board,o=i.guestUser,c=i.user._id,c===o._id||n._id||n.members.push(o),s.prev=5,s.next=8,se.save(n);case 8:if(u=s.sent,!n._id){s.next=13;break}r({type:"setBoard",board:u}),s.next=15;break;case 13:return s.next=15,a({type:"loadBoards"});case 15:return s.abrupt("return",u._id);case 18:throw s.prev=18,s.t0=s["catch"](5),console.log("ERROR: cant save/update board"),s.t0;case 22:case"end":return s.stop()}}),s,null,[[5,18]])})))()}}},bi=(s("d81d"),null);sessionStorage.user&&(bi=JSON.parse(sessionStorage.user));var yi={state:{users:[],loggedInUser:bi},getters:{users:function(t){return JSON.parse(JSON.stringify(t.users))},user:function(t){return JSON.parse(JSON.stringify(t.loggedInUser))},miniUsers:function(t){var e=JSON.parse(JSON.stringify(t.users)).map((function(t){return{_id:t._id,email:t.email,fullName:t.fullName,imgUrl:t.imgUrl}}));return e},miniUser:function(t){var e=JSON.parse(JSON.stringify(t.loggedInUser));return e={_id:e._id,email:e.email,fullName:e.fullName,imgUrl:e.imgUrl},e},guestUser:function(){return{_id:"5fcf43042225f532488c5ac0",email:"guestUser@tasku.com",password:"guestpassword",fullName:"Guest",isAdmin:!1,notifications:[]}}},mutations:{insertUserNotif:function(t,e){var s=e.notif;t.loggedInUser.notifications.unshift(s)},setUsers:function(t,e){var s=e.users;t.users=s},setUser:function(t,e){var s=e.user;t.loggedInUser=s},updateUser:function(t,e){var s=e.user,r=t.users.findIndex((function(t){return t._id===s._id}));t.users.splice(r,1,s),t.loggedInUser._id===s._id&&(t.loggedInUser=s)},deleteUser:function(t,e){var s=e.userId,r=t.users.findIndex((function(t){return t._id===s}));t.users.splice(r,1)},addUser:function(t,e){var s=e.user;t.users.unshift(s)}},actions:{loadUsers:function(t){return Object(st["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,ge.getUsers();case 4:r=e.sent,s({type:"setUsers",users:r}),e.next=12;break;case 8:throw e.prev=8,e.t0=e["catch"](1),console.log("ERROR:cant find users"),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},loadUser:function(t,e){return Object(st["a"])(regeneratorRuntime.mark((function s(){var r,a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=e.userId,s.prev=2,s.next=5,ge.getById(a);case 5:i=s.sent,r({type:"setUser",user:i}),s.next=13;break;case 9:throw s.prev=9,s.t0=s["catch"](2),console.log("ERROR:cant find user"),s.t0;case 13:case"end":return s.stop()}}),s,null,[[2,9]])})))()},removeUser:function(t,e){return Object(st["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=e.userId,s.prev=2,s.next=5,ge.remove(a);case 5:r({type:"removeUser",userId:a}),s.next=12;break;case 8:throw s.prev=8,s.t0=s["catch"](2),console.log("ERROR: cant remove user"),s.t0;case 12:case"end":return s.stop()}}),s,null,[[2,8]])})))()},updateUser:function(t,e){return Object(st["a"])(regeneratorRuntime.mark((function s(){var r,a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=e.user,s.prev=2,s.next=5,ge.save(a);case 5:return i=s.sent,r({type:"updateUser",user:i}),s.abrupt("return",i);case 10:throw s.prev=10,s.t0=s["catch"](2),console.log("ERROR:cant updated user!"),s.t0;case 14:case"end":return s.stop()}}),s,null,[[2,10]])})))()},addUser:function(t,e){return Object(st["a"])(regeneratorRuntime.mark((function s(){var r,a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=e.user,s.prev=2,s.next=5,ge.save(a);case 5:return i=s.sent,r({type:"addUser",user:i}),s.abrupt("return",i);case 10:throw s.prev=10,s.t0=s["catch"](2),console.log("ERROR:cant add user"),s.t0;case 14:case"end":return s.stop()}}),s,null,[[2,10]])})))()},login:function(t,e){return Object(st["a"])(regeneratorRuntime.mark((function s(){var r,a,i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(r=e.userCred,s.prev=1,"guest"!==r){s.next=11;break}return a={email:"guestUser@tasku.com",password:"guestpassword",isAdmin:!1},s.next=6,ge.login(a);case 6:return i=s.sent,t.commit({type:"setUser",user:i}),s.abrupt("return",i);case 11:return s.next=13,ge.login(r);case 13:return n=s.sent,t.commit({type:"setUser",user:n}),s.abrupt("return",n);case 16:s.next=22;break;case 18:throw s.prev=18,s.t0=s["catch"](1),console.log("USER STORE ERROR TYPE:",s.t0.response.status),s.t0;case 22:case"end":return s.stop()}}),s,null,[[1,18]])})))()},logout:function(t){return Object(st["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dispatch({type:"deletePrivateSocket"}),e.prev=1,e.next=4,ge.logout();case 4:t.commit({type:"setUsers",users:[]}),t.commit({type:"setUser",user:null}),e.next=12;break;case 8:throw e.prev=8,e.t0=e["catch"](1),console.log("ERROR:cant logout"),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},signup:function(t,e){return Object(st["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=e.userCred,s.prev=1,s.next=4,ge.signup(r);case 4:return a=s.sent,t.commit({type:"setUser",user:a}),s.abrupt("return",a);case 9:throw s.prev=9,s.t0=s["catch"](1),console.log("CANT SIGN UP "),s.t0;case 13:case"end":return s.stop()}}),s,null,[[1,9]])})))()},sendNotif:function(t,e){return Object(st["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.notif,t.next=3,ge.sendNotif(s);case 3:case"end":return t.stop()}}),t)})))()}}};gt.on("updated board",(function(t){Ci.commit({type:"setBoard",board:t})})),gt.on("load boards",(function(t){Ci.commit({type:"setBoards",boards:t})})),gt.on("insertUserNotif",(function(t){Ci.commit({type:"insertUserNotif",notif:t})})),gt.on("update board",(function(t){Ci.commit({type:"setBoardById",board:t}),lt.$emit("forceRerender")}));var ki={state:{},getters:{},mutations:{},actions:{updateBoard:function(t,e){var s=e.board;gt.emit("update board",s)},loadAllBoards:function(){gt.emit("load boards")},turnOffSocket:function(){gt.terminate()},createPrivateSocket:function(t){var e=t.getters.user._id;gt.emit("createPrivateSocket",e)},deletePrivateSocket:function(t){var e=t.getters.user._id;gt.emit("deletePrivateSocket",e)}}};r["default"].use(hi["a"]);var Ci=new hi["a"].Store({strict:!0,modules:{boardStore:vi,userStore:yi,socketStore:ki}}),xi=(s("3c61"),s("5c96")),wi=s.n(xi),_i=s("4897"),Bi=s.n(_i),$i=s("e37d");r["default"].use($i["a"]),r["default"].use(wi.a,{locale:Bi.a}),r["default"].use(s("2ead")),r["default"].config.productionTip=!1,new r["default"]({router:mi,store:Ci,render:function(t){return t(X)}}).$mount("#app")},5989:function(t,e,s){t.exports=s.p+"img/bgc-2-preson.10ef463d.svg"},a145:function(t,e,s){t.exports=s.p+"img/bgc-person-task.c359fc48.svg"},a334:function(t,e,s){t.exports=s.p+"img/logo2.cbddd428.png"},afc8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAAA+CAIAAAApseteAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAFFSURBVHhe7dtBjoMgGEBhZ87qsTymB5hJJBThgbiZCfC+TU2qbf9X2rqwX+d5brr7DrdK9K6Ufd/D1oCO4whbfVpRhg5R0xOIo0yZI9VOA1GwSO1R4s5vl+hfqr3HtdecR8mOfxx1iChRWQdf9u3XJz3md+8h5nylHAoX0SdKViRszehxOjhPmbvIJZ2xXCwhSrxjhSKXxqSe0QKjAKMAowCjAKMAowCjAKMAowCjAKMAowCjAKMAowCjAKMAowCjAKMAowCjAKMAowCjAKMAowCjAKMAowCjAKMAowCjAKMAowCjgDwKXoG8mhBlnctno8alw/DxWWGxtGf8RMmuzJ41TTYafkRuKyXbIzt+dOU4tS+N3j9BpbI1dW3UnuC/vJoiU/0P4eODjuvx/atGiWaq07mcn6MsCH6SZRRgFGCUwrb9AMxBeDfyTEpCAAAAAElFTkSuQmCC"},ebb8:function(t,e,s){t.exports=s.p+"img/loader.ae9dc940.gif"},ff62:function(t,e,s){t.exports=s.p+"img/logo1.b1a20ac6.png"}});
//# sourceMappingURL=app.1a546452.js.map